{"meta":{"title":"Bomblebee","subtitle":"","description":"","author":"Huang Feng","url":"http://dangkei.github.io","root":"/"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2021-07-01T06:15:40.117Z","updated":"2021-05-31T02:54:50.000Z","comments":false,"path":"/404.html","permalink":"http://dangkei.github.io/404.html","excerpt":"","text":""},{"title":"ä¹¦å•","date":"2021-07-01T06:15:40.121Z","updated":"2021-05-31T02:54:50.000Z","comments":false,"path":"books/index.html","permalink":"http://dangkei.github.io/books/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2021-07-01T08:52:42.262Z","updated":"2021-07-01T08:52:42.262Z","comments":false,"path":"about/index.html","permalink":"http://dangkei.github.io/about/index.html","excerpt":"","text":"2021-07-01 å»ºå…š100å‘¨å¹´çºªå¿µæ—¥çœ‹åˆ°ä¸€ä¸ªå¥½çš„ä¸»é¢˜pureï¼Œæ„Ÿè§‰éå¸¸ä¸é”™å°±æ¢äº†ï¼Œéå¸¸æ„Ÿè°¢è¿™ä¸ªä¸»é¢˜çš„ä½œè€…ï¼Œè™½ç„¶æ›´æ–°åå¾ˆå¤šå†…å®¹éƒ½æ²¡æœ‰äº†ï¼Œä¸è¿‡è¿˜å¥½æœ‰å¤‡ä»½ã€‚ æœ‰æ—¶é—´æ…¢æ…¢æ¢å¤å§ã€‚è‡ªå·±å·²ç»æ˜¯ä¸€ä¸ªå¤§é¾„ç¨‹åºå‘˜äº†ï¼Œ èµ°è¿‡å¾ˆé•¿ä¸€æ®µäººç”Ÿè·¯ï¼Œ å¯¹ç”Ÿå‘½ï¼Œç”Ÿæ´»ï¼Œäº²æƒ…ï¼Œçˆ±æƒ…ï¼Œå®¶åº­éƒ½æœ‰äº†ä¸€äº›æ–°çš„è®¤çŸ¥ã€‚ å¸Œæœ›ä»Šåçš„é“è·¯ä¸Šè®©ç¼–ç¨‹é‡æ–°æˆä¸ºè‡ªå·±çš„çˆ±å¥½è€Œä¸æ­¢æ˜¯è°‹ç”Ÿçš„æ‰‹æ®µï¼Œé‡æ‹¾è‡ªå·±å¯¹æŠ€æœ¯çš„å…´è¶£ã€‚ ä¹Ÿå¸Œæœ›è‡ªå·±èº«è¾¹çš„äººéƒ½å¥åº·ï¼Œå¿«ä¹ã€‚"},{"title":"å‹æƒ…é“¾æ¥","date":"2021-07-01T06:15:40.124Z","updated":"2021-05-31T02:54:50.000Z","comments":true,"path":"links/index.html","permalink":"http://dangkei.github.io/links/index.html","excerpt":"","text":""},{"title":"é¡¹ç›®åº“","date":"2021-07-01T07:53:18.384Z","updated":"2021-07-01T07:53:18.384Z","comments":false,"path":"repository/index.html","permalink":"http://dangkei.github.io/repository/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2021-07-05T07:35:42.586Z","updated":"2021-05-31T02:54:50.000Z","comments":false,"path":"categories/index.html","permalink":"http://dangkei.github.io/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2021-07-01T06:15:40.204Z","updated":"2021-05-31T02:54:50.000Z","comments":false,"path":"tags/index.html","permalink":"http://dangkei.github.io/tags/index.html","excerpt":"","text":""},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2021-07-05T08:32:38.116Z","updated":"2021-05-31T02:54:50.000Z","comments":false,"path":"/404.html","permalink":"http://dangkei.github.io/404.html","excerpt":"","text":""}],"posts":[{"title":"how-to-use-docker-3","slug":"how-to-use-docker-3","date":"2021-07-14T03:05:07.000Z","updated":"2021-07-16T03:16:20.104Z","comments":true,"path":"2021/07/14/how-to-use-docker-3/","link":"","permalink":"http://dangkei.github.io/2021/07/14/how-to-use-docker-3/","excerpt":"","text":"æ ¹æ®æ˜¨å¤©ç»éªŒï¼Œä»Šå¤©å†æŠŠæœ¬åœ°çš„mysqlæ•°æ®åº“ç¯å¢ƒè½¬ç§»åˆ°docker 1. pull image ç¬¬ä¸€æ­¥è¿˜æ˜¯è¦æ‹‰é•œåƒç‰ˆæœ¬é€‰æ‹©å’ŒåŸç¯å¢ƒç›¸åŒçš„ç‰ˆæœ¬ 1docker pull mysql:5.7.25 2. run image è¿˜æ˜¯å…ˆç›´æ¥æŠŠå‘½ä»¤è¡Œè„šæœ¬å‘å‡ºäº†ï¼Œæˆ‘ä»¬åœ¨ä¸€æ­¥æ­¥è¯¦ç»†è§£è¯´ï¼Œ 1docker run -d -p 3307:3306 --name mysql3307 -e MYSQL_ROOT_PASSWORD=123456 -v D:\\Database\\conf:/etc/mysql/conf.d -v D:\\Database\\mysqldata:/var/lib/mysql mysql:5.7.25 ç±»ä¼¼ç›¸åŒçš„åŠŸèƒ½ä¸è¯´äº†ï¼Œçœ‹çœ‹å¯åŠ¨mysqlå®¹å™¨æ—¶å’Œä¹‹å‰redisæœ‰ä»€ä¹ˆä¸åŒå’Œéœ€è¦æ³¨æ„çš„ã€‚ è®¾ç½®rootå¯†ç -e MYSQL_ROOT_PASSWORD=123456 /etc/mysql/conf.d å¯¹äºè¿™ä¸ªç›®å½•æœ€æ–°å®˜æ–¹MySQL(5.7.19)çš„dockeré•œåƒåœ¨åˆ›å»ºæ—¶æ˜ å°„çš„é…ç½®æ–‡ä»¶ç›®å½•æœ‰æ‰€ä¸åŒï¼Œåœ¨æ­¤è®°å½•å¹¶åˆ†äº«ç»™å¤§å®¶ï¼š å®˜æ–¹åŸæ–‡ï¼š The MySQL startup configuration is specified in the file /etc/mysql/my.cnf, and that file in turn includes any files found in the /etc/mysql/conf.d directory that end with .cnf. Settings in files in this directory will augment and/or override settings in /etc/mysql/my.cnf. If you want to use a customized MySQL configuration, you can create your alternative configuration file in a directory on the host machine and then mount that directory location as /etc/mysql/conf.d inside the mysql container. å¤§æ¦‚æ„æ€æ˜¯è¯´ï¼š MySQL(5.7.19)çš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯ /etc/mysql/my.cnf æ–‡ä»¶ã€‚å¦‚æœæƒ³è¦è‡ªå®šä¹‰é…ç½®ï¼Œå»ºè®®å‘ /etc/mysql/conf.d ç›®å½•ä¸­åˆ›å»º .cnf æ–‡ä»¶ã€‚æ–°å»ºçš„æ–‡ä»¶å¯ä»¥ä»»æ„èµ·åï¼Œåªè¦ä¿è¯åç¼€åæ˜¯ cnf å³å¯ã€‚æ–°å»ºçš„æ–‡ä»¶ä¸­çš„é…ç½®é¡¹å¯ä»¥è¦†ç›– /etc/mysql/my.cnf ä¸­çš„é…ç½®é¡¹ã€‚ é€šè¿‡è¿™æ¡è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæœ‰çš„é•œåƒå¯åŠ¨çš„é…ç½®æ–‡ä»¶æŒ‚è½½åˆ°/etc/appname/conf.dè¿™é‡Œå°±å¯ä»¥è®©é•œåƒä¸­åº”ç”¨ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰é…ç½®å¯åŠ¨ è¿™æ ·ä¸‹æ¥æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œ ä¸ç®¡é•œåƒä¸­é»˜è®¤é…ç½®å¦‚ä½•åªè¦æŠŠè‡ªå®šä¹‰é…ç½®æŒ‚è½½åˆ°æŒ‡å®šç›®å½•å°±å¯ä»¥äº†ã€‚ é…ç½®linuxä¸‹mysqlæ—¶ç”¨åˆ°çš„ä¸€äº›å‘½ä»¤ æŸ¥æ‰¾mysqldwhereis mysql æŸ¥æ‰¾ç”Ÿæ•ˆçš„mysqlé…ç½®æ–‡ä»¶/usr/sbin/mysqld --verbose --help |grep -A 1 &#39;Default options&#39;æ‰§è¡Œåç»“æœ1234root@0f303c0363dc:/# /usr/sbin/mysqld --verbose --help |grep -A 1 &#x27;Default options&#x27;mysqld: [Warning] World-writable config file &#x27;/etc/mysql/conf.d/my.cnf&#x27; is ignored.Default options are read from the following files in the given order:/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf mysqld: [Warning] World-writable config file â€˜/etc/mysql/conf.d/my.cnfâ€™ is ignored.æŸ¥äº†äº›èµ„æ–™è¿™å¥è¦è¯´æ˜æ„æ€æ˜¯/etc/mysql/conf.d/my.cnf æ˜¯ä¸€ä¸ªæ‰€æœ‰äººå¯ä»¥è¯»å†™çš„æ–‡ä»¶ï¼Œä¸ºäº†å®‰å…¨èµ·è§å¿½ç•¥è¿™ä¸ªæ–‡ä»¶çš„é…ç½®ã€‚å¤„ç†çš„è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯,è¿›å…¥å®¹å™¨æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ 1chmod 644 /etc/mysql/conf.d/my.cnf ç„¶åå†é‡å¯å®¹å™¨é…ç½®æ–‡ä»¶å°±å¯ä»¥ç”Ÿæ•ˆäº†ã€‚","categories":[{"name":"devopts","slug":"devopts","permalink":"http://dangkei.github.io/categories/devopts/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://dangkei.github.io/tags/docker/"}]},{"title":"how-to-use-docker-2","slug":"how-to-use-docker-2","date":"2021-07-13T06:33:59.000Z","updated":"2021-07-14T03:09:32.103Z","comments":true,"path":"2021/07/13/how-to-use-docker-2/","link":"","permalink":"http://dangkei.github.io/2021/07/13/how-to-use-docker-2/","excerpt":"","text":"æŒ‚è½½æ–‡ä»¶åŠç›®å½• åœ¨ä¸ªäººå¼€å‘ç”µè„‘ä¸Šè£…äº†dockerä»¥åå°±æƒ³æŠŠè‡ªå·±å¹³æ—¶çš„æœ¬åœ°å¼€å‘ç¯å¢ƒå…¨éƒ¨è½¬æˆdockerç®¡ç†æ–¹å¼é¦–å…ˆæƒ³è½¬æ¢çš„å°±æ˜¯redisæ•°æ®åº“,æˆ‘ä»¬å¹³æ—¶ç”¨çš„redisè®¾ç½®å¯†ç  å¤–åŠ æŒä¹…åŒ–å­˜å‚¨ã€‚é»˜è®¤çš„é•œåƒè‚¯å®šä¸èƒ½æ»¡è¶³å¼€å‘ç¯å¢ƒéœ€æ±‚ã€‚æŸ¥äº†ä¸€äº›èµ„æ–™è¿‡ç¨‹ä¸è¯´äº†æœ€åæ•´ç†ä¸‹é¢çš„å‘½ä»¤ã€‚ 1docker run -p 6379:6379 --name redis6379 -v D:\\Database\\redis3.0.5\\redis_6379.conf:/etc/redis/redis.conf -v D:\\Database\\data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes æ‹†è§£è¯´æ˜ä¸€ä¸‹ 6379ï¼š6379 ç¬¬ä¸€ä¸ª6379 æ˜¯æœ¬åœ°å‘å¸ƒæ˜ å°„ç«¯å£ ç¬¬äºŒä¸ª6379æ˜¯é•œåƒä¸­é»˜è®¤ç«¯å£ --name redis6379 ç»™å®¹å™¨èµ·ä¸€ä¸ªåå­—æ–¹ä¾¿ä»¥åä½¿ç”¨ -v D:\\Database\\redis3.0.5\\redis_6379.conf:/etc/redis/redis.conf -v D:\\Database\\data:/data å‚æ•°-vçš„ä½œç”¨æ˜¯æŒ‚è½½æœ¬åœ°ç³»ç»Ÿæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹,è¿™é‡Œä½¿ç”¨äº†ä¸¤æ¬¡ï¼Œ ç¬¬ä¸€ä¸ª-væŒ‚è½½æœ¬åœ°redis_6379.confåˆ°é•œåƒå®¹å™¨ä¸­å‘½åä¸ºredis.conf ç¬¬äºŒä¸ª-væŒ‚è½½æœ¬åœ°çš„D:\\Database\\dataç›®å½•ä¸ºå®¹å™¨ä¸­çš„/dataç›®å½• -d redis -d redis æ˜¯åå°ä½¿ç”¨redisé•œåƒå¯åŠ¨ redis-server /etc/redis/redis.confå¯åŠ¨åä½¿ç”¨æŒ‚è½½çš„é…ç½®æ–‡ä»¶æ¥å¯åŠ¨redis --appendonly yesredisé…ç½®é€‰é¡¹æŒä¹…åŒ–å­˜å‚¨æ‰“å¼€ è¿™æ ·å‘½ä»¤æ‰§è¡Œå®Œä¹‹åæˆ‘å°±å¯ä»¥ä½¿ç”¨dockerç®¡ç†å¼€å‘ç¯å¢ƒçš„redisæœåŠ¡å™¨å¯åŠ¨ã€‚è€Œä¸æ˜¯éœ€è¦åœ¨æœ¬åœ°å‘½ä»¤è¡Œæˆ–è€…é€šè¿‡é…ç½®windowsæœåŠ¡çš„æ–¹å¼å¯åŠ¨redisã€‚è€Œå„ç§è®¾ç½®å’Œæ•°æ®çš„å­˜å‚¨å’Œåœ¨æœ¬åœ°å®‰è£…ç¨‹åºä¸€æ ·ã€‚ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå°†æ¥æˆ‘ä»¬æ›´æ¢ç”µè„‘æˆ–è€…å¼€å‘ç¯å¢ƒã€‚ åªéœ€ä¿å­˜å¥½é…ç½®æ–‡ä»¶ï¼Œå’Œæ•°æ®å­˜å‚¨æ–‡ä»¶ã€‚å°±å¯ä»¥å¿«é€Ÿéƒ¨ç½²æˆ–è€…ä¸€ä¸ªå’Œä¹‹å‰ä¸€æ ·çš„å¼€å‘ç¯å¢ƒã€‚ é€šè¿‡-vè¿™ä¸ªå‚æ•°çš„æŒ‚è½½åŠŸèƒ½å°†åº”ç”¨å‚æ•°æ•°æ®å®Œå…¨ä¸æ•°æ®åº“æˆ–è€…ä¸­é—´ä»¶åˆ†ç¦»ï¼Œæ–¹ä¾¿å¿«é€Ÿç®¡ç†éƒ¨ç½²ã€‚","categories":[{"name":"devopts","slug":"devopts","permalink":"http://dangkei.github.io/categories/devopts/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://dangkei.github.io/tags/docker/"}]},{"title":"how-to-use-docker","slug":"how-to-use-hub-docker","date":"2021-07-12T09:31:31.000Z","updated":"2021-07-14T01:39:49.325Z","comments":true,"path":"2021/07/12/how-to-use-hub-docker/","link":"","permalink":"http://dangkei.github.io/2021/07/12/how-to-use-hub-docker/","excerpt":"","text":"1. download for windows https://hub.docker.com/ å®‰è£…æ­¥éª¤çœç•¥ æŒ‰æç¤ºä¸€æ­¥æ­¥å®‰è£…å³å¯ 2. find a image æˆ‘ä»¬å¯ä»¥åœ¨ç½‘ç«™ä¸Šæ‰¾ä¸€äº›å®˜æ–¹çš„é•œåƒ[Official Images]ä¾‹å¦‚ æˆ‘æœç´¢ä¸€ä¸‹nginx åœ¨ç»“æœä¸­ æˆ‘é€‰æ‹©ç±»å‹ä¸ºOfficial Imagesçš„ç›´æ¥æ‹¿æ¥å¯ä»¥ä½¿ç”¨ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ 1docker search nginx ç‚¹å‡»è¿›å…¥åé¡µé¢å³ä¾§ä¼šæœ‰æç¤ºè¯¥å¦‚ä½•åœ¨æœ¬åœ°ä¸‹è½½è¯¥é•œåƒ ç›´æ¥æ‹·è´å‘½ä»¤ååˆ°æœ¬åœ°å‘½ä»¤è¡Œæ‰§è¡Œ 123456789101112E:\\code\\&gt;docker pull nginxUsing default tag: latestlatest: Pulling from library/nginxb4d181a07f80: Already exists66b1c490df3f: Pull completed0f91ae9b44c: Pull completebaf987068537: Pull complete6bbc76cbebeb: Pull complete32b766478bc2: Pull completeDigest: sha256:353c20f74d9b6aee359f30e8e4f69c3d7eaea2f610681c4a95849a2fd7c497f9Status: Downloaded newer image for nginx:latestdocker.io/library/nginx:latest ç„¶åæ‰“å¼€ docker-desktop å¯ä»¥çœ‹åˆ°æœ¬åœ°å·²ç»æœ‰nginxçš„é•œåƒå¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚ 3. use the imageç‚¹å‡»runå°±ç›´æ¥åœ¨æœ¬åœ°è¿è¡Œä¸€ä¸ªredisçš„dockerå®¹å™¨ã€‚æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œ 1docker run --name mynginx -d nginx:latest docker run å‚æ•°å¾ˆå¤šã€‚ æœ‰æœºä¼šéœ€è¦çš„æ—¶å€™å¯ä»¥æ…¢æ…¢ç ”ç©¶ã€‚è¿™é‡Œå°±ä¸åšè¯¦ç»†ä»‹ç»äº†ã€‚ 4. ä¸€äº›ç®€å•çš„dockerå‘½ä»¤è¡Œå‘½ä»¤ æŸ¥çœ‹æœ¬åœ°æœ‰å“ªäº›é•œåƒ 1docker images æŸ¥çœ‹æœ¬åœ°è¿è¡Œçš„docker å®¹å™¨ 1docker ps è¿›å…¥å®¹å™¨å†…å‘½ä»¤è¡Œ 1docker exec -i -t å®¹å™¨ID /bin/bash ä¿®æ”¹å®¹å™¨é…ç½®å¸¸ç”¨å‘½ä»¤ 12apt-get updateapt-get install -y vim ä¸€èˆ¬å®˜æ–¹å®¹å™¨è£…çš„è½¯ä»¶å¾ˆå°‘ï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ä¸€äº›åŸºæœ¬é…ç½®è‡³å°‘è¦å®‰è£…ä¸‹vi å¤åˆ¶å®¿ä¸»æœºä¸­æ–‡ä»¶åˆ°dockerå®¹å™¨ä¸­ 1docker cp D:\\Database\\redis3.0.5\\redis_6379.conf db0794db0d16:/etc/redis/redis.conf åä¹‹æ‹·è´å®¹å™¨ä¸­æ–‡ä»¶åˆ°å®¿ä¸»æœº 1docker cp db0794db0d16:/etc/redis/redis.conf D:\\Database\\redis3.0.5\\redis_6379.conf ä¸¤æ¡å‘½ä»¤éƒ½æ˜¯åœ¨å®¿ä¸»æœºä¸­æ‰§è¡Œ åæ¥å‘ç°ä¸­é—´ä»¶é…ç½®æ–‡ä»¶ ç®€å•ä»‹ç»è¿™äº›èœé¸Ÿæ•™ç¨‹é‡Œæ¯”è¾ƒå…¨æœ‰éœ€è¦å¯ä»¥å»é‚£è¾¹æŸ¥ï¼Œç¥å¤§å®¶å­¦ä¹ æ„‰å¿«ï¼https://www.runoob.com/docker/docker-command-manual.html","categories":[{"name":"devopts","slug":"devopts","permalink":"http://dangkei.github.io/categories/devopts/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://dangkei.github.io/tags/docker/"}]},{"title":"Java 8ç‰¹è‰²Lambda è¡¨è¾¾å¼","slug":"lambda-expressions","date":"2021-07-09T02:58:38.000Z","updated":"2021-07-09T02:47:39.238Z","comments":true,"path":"2021/07/09/lambda-expressions/","link":"","permalink":"http://dangkei.github.io/2021/07/09/lambda-expressions/","excerpt":"","text":"Java 8 â€“ Lambda è¡¨è¾¾å¼ Lambda è¡¨è¾¾å¼æ˜¯Java 8 çš„ä¸€ä¸ªéå¸¸æ–°çš„å’Œä»¤äººå…´å¥‹çš„ç‰¹æ€§ã€‚Lambda æ ·å¼è¡¨è¾¾å¼å¯¹äºæˆ‘ä»¬ä¸­è®¸å¤šä»äº‹è¿‡åƒ Scala è¿™æ ·çš„é«˜çº§è¯­è¨€å·¥ä½œçš„äººæ¥è¯´å¹¶ä¸é™Œç”Ÿã€‚ åœ¨æœ¬ Java æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ lambda è¡¨è¾¾å¼åŠå…¶ç›¸å…³çš„å„ç§æ¦‚å¿µã€‚ ä»€ä¹ˆæ˜¯ Lambda è¡¨è¾¾å¼ï¼Ÿ Lambda è¡¨è¾¾å¼è¯­æ³• Java 8 Lambda è¡¨è¾¾å¼çš„ç‰¹ç‚¹ Java 8 åŠŸèƒ½æ¥å£ Java 8 Lambda è¡¨è¾¾å¼ç¤ºä¾‹ è®©æˆ‘ä»¬æŒ‰éƒ¨å°±ç­ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ã€‚ 1. ä»€ä¹ˆæ˜¯ Lambda è¡¨è¾¾å¼ï¼Ÿ åœ¨ä¸€èˆ¬ç¼–ç¨‹è¯­è¨€ä¸­ï¼ŒLambda è¡¨è¾¾å¼ï¼ˆæˆ–å‡½æ•°ï¼‰æ˜¯åŒ¿åå‡½æ•°ï¼Œå³æ²¡æœ‰åç§°å’Œä»»ä½•æ ‡è¯†ç¬¦çš„å‡½æ•°ã€‚ Lambda è¡¨è¾¾å¼æ˜¯ä½œä¸ºå¸¸é‡å€¼ç»™å‡ºçš„æ— åå‡½æ•°ï¼Œå¹¶å‡†ç¡®åœ°å†™åœ¨éœ€è¦å®ƒçš„åœ°æ–¹ï¼Œé€šå¸¸ä½œä¸ºå…¶ä»–å‡½æ•°çš„å‚æ•°ã€‚ Lambda è¡¨è¾¾å¼æœ€é‡è¦çš„ç‰¹æ€§æ˜¯å®ƒä»¬åœ¨å…¶å¤–è§‚çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚å› æ­¤ï¼Œç±»ä¼¼çš„ lambda è¡¨è¾¾å¼å¯ä»¥åœ¨å…¶ä»–ä¸€äº›ä¸Šä¸‹æ–‡ä¸­ä»¥ä¸åŒçš„æ–¹å¼æ‰§è¡Œï¼ˆå³é€»è¾‘å°†ç›¸åŒä½†ç»“æœå°†æ ¹æ®ä¼ é€’ç»™å‡½æ•°çš„ä¸åŒå‚æ•°è€Œä¸åŒï¼‰ã€‚ ä¸Šé¢çš„å®šä¹‰å……æ»¡äº†å…³é”®å­—ï¼Œåªæœ‰å½“ä½ å¯¹ä»€ä¹ˆæ˜¯ lambda è¡¨è¾¾å¼æœ‰ä¸€ç‚¹äº†è§£æ—¶æ‰èƒ½ç†è§£ã€‚å› æ­¤ï¼Œä¸€æ—¦æ‚¨åœ¨ä¸‹ä¸€èŠ‚ä¸­å¯¹ lambda è¡¨è¾¾å¼æœ‰äº†æ›´å¥½çš„ç†è§£ï¼Œæˆ‘å»ºè®®æ‚¨é‡æ–°é˜…è¯»ä¸Šä¸€æ®µã€‚ ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP) ç›¸æ¯”ï¼ŒLambda è¡¨è¾¾å¼ä¸ºå‡½æ•°å¼ç¼–ç¨‹æä¾›äº†è®¸å¤šå¥½å¤„ã€‚å¤§å¤šæ•° OOP è¯­è¨€å›´ç»•ç±»å’Œå¯¹è±¡å‘å±•ï¼Œè¿™äº›è¯­è¨€åªå°†ç±»è§†ä¸ºå®ƒä»¬çš„ä¸€ç­‰å…¬æ°‘ã€‚å¦ä¸€ä¸ªé‡è¦çš„å®ä½“ï¼Œå³èŒèƒ½éƒ¨é—¨ï¼Œå¤„äºæ¬¡è¦åœ°ä½ã€‚ åœ¨ Java ä¸­å°¤å…¶å¦‚æ­¤ï¼Œå…¶ä¸­å‡½æ•°ä¸èƒ½å­˜åœ¨äºå¯¹è±¡ä¹‹å¤–ã€‚å‡½æ•°æœ¬èº«åœ¨ Java ä¸­æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œé™¤éå®ƒä¸æŸä¸ªå¯¹è±¡æˆ–å®ä¾‹ç›¸å…³ã€‚ ä½†æ˜¯åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å‡½æ•°ï¼Œç»™å®ƒä»¬æä¾›å¼•ç”¨å˜é‡ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’ç­‰ç­‰ã€‚ JavaScript æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å›è°ƒæ–¹æ³•ä¼ é€’ç»™Ajaxè°ƒç”¨ç­‰ç­‰ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œä»ä¸€å¼€å§‹å°±ç¼ºä¹Javaã€‚ç°åœ¨æœ‰äº† Java 8ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ lambda è¡¨è¾¾å¼çš„å¸®åŠ©ä¸‹ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µã€‚ 2. Lambda è¡¨è¾¾å¼è¯­æ³•å…¸å‹çš„ lambda è¡¨è¾¾å¼è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š 1(parameters) -&gt; expression ä¾‹å¦‚ï¼Œç»™å®šçš„ lambda è¡¨è¾¾å¼æ¥å—ä¸¤ä¸ªå‚æ•°å¹¶è¿”å›å®ƒä»¬çš„ç›¸åŠ ã€‚ æ ¹æ®xandçš„ç±»å‹yï¼Œè¡¨è¾¾å¼çš„ä½¿ç”¨æ–¹å¼ä¼šæœ‰æ‰€ä¸åŒã€‚å¦‚æœå‚æ•°ä¸Integerè¡¨è¾¾å¼åŒ¹é…ï¼Œåˆ™å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚å¦‚æœå‚æ•°ç±»å‹Stringä¸ºè¡¨è¾¾å¼ï¼Œåˆ™å°†è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚ 1(x, y) -&gt; x + y 3. Java 8 Lambda è¡¨è¾¾å¼çš„ç‰¹ç‚¹ä¸€ä¸ª lambda è¡¨è¾¾å¼å¯ä»¥æœ‰é›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚å‚æ•°çš„ç±»å‹å¯ä»¥æ˜¾å¼å£°æ˜ï¼Œä¹Ÿå¯ä»¥ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å‡ºæ¥ã€‚å¤šä¸ªå‚æ•°ç”¨å¼ºåˆ¶æ‹¬å·æ‹¬èµ·æ¥å¹¶ç”¨é€—å·åˆ†éš”ã€‚ç©ºæ‹¬å·ç”¨äºè¡¨ç¤ºä¸€ç»„ç©ºå‚æ•°ã€‚ 1() -&gt; expression (param1, param2, param3) -&gt; expression å½“æœ‰å•ä¸ªå‚æ•°æ—¶ï¼Œå¦‚æœæ¨æ–­å…¶ç±»å‹ï¼Œåˆ™ä¸å¼ºåˆ¶ä½¿ç”¨æ‹¬å·ã€‚ä¾‹å¦‚ a -&gt; è¿”å› a*aã€‚lambda è¡¨è¾¾å¼çš„ä¸»ä½“å¯ä»¥åŒ…å«é›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥ã€‚å¦‚æœ lambda è¡¨è¾¾å¼çš„ä¸»ä½“æœ‰å•ä¸ªè¯­å¥ï¼Œåˆ™å¤§æ‹¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œå¹¶ä¸”åŒ¿åå‡½æ•°çš„è¿”å›ç±»å‹ä¸ä¸»ä½“è¡¨è¾¾å¼çš„è¿”å›ç±»å‹ç›¸åŒã€‚å½“æ­£æ–‡ä¸­æœ‰å¤šä¸ªè¯­å¥æ—¶ï¼Œå¿…é¡»å°†è¿™äº›è¯­å¥æ‹¬åœ¨å¤§æ‹¬å·ä¸­ã€‚(parameters) -&gt; &#123; statements; &#125;å› æ­¤ï¼Œæˆ‘ä»¬ç®€è¦æ¦‚è¿°äº†ä»€ä¹ˆæ˜¯ lambda è¡¨è¾¾å¼ã€‚åœ¨æ·±å…¥ç ”ç©¶ lambda è¡¨è¾¾å¼å’Œ Java ç¼–ç¨‹ä¹‹é—´çš„å…³ç³»ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»äº†è§£å‡½æ•°å¼æ¥å£ã€‚è¿™å¤ªé‡è¦äº†ã€‚ 4. Java 8 åŠŸèƒ½æ¥å£å•ä¸€æŠ½è±¡æ–¹æ³•æ¥å£ï¼ˆSAM Interfacesï¼‰å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°æ¦‚å¿µã€‚è¿™æ„å‘³ç€åªæœ‰ä¸€ç§æ–¹æ³•çš„æ¥å£ã€‚åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬å·²ç»æœ‰å¾ˆå¤šæ­¤ç±» SAM æ¥å£çš„ç¤ºä¾‹ã€‚ ä» Java 8 å¼€å§‹ï¼ŒSAM æ¥å£ä¹Ÿå°†è¢«ç§°ä¸ºåŠŸèƒ½æ¥å£ã€‚Java 8é€šè¿‡ä½¿ç”¨æ–°çš„æ³¨é‡Šï¼ˆå³@FunctionalInterface ï¼‰æ ‡è®°è¿™äº›æ¥å£æ¥å¼ºåˆ¶æ‰§è¡Œå•ä¸€èŒè´£çš„è§„åˆ™ã€‚ ä¾‹å¦‚ï¼ŒRunnable æ¥å£çš„æ–°å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š 1234@FunctionalInterfacepublic interface Runnable &#123; public abstract void run();&#125; å¦‚æœæˆ‘ä»¬å°è¯•åœ¨ä»»ä½•å‡½æ•°å¼æ¥å£ä¸­æ·»åŠ æ–°æ–¹æ³•ï¼Œç¼–è¯‘å™¨å°†ä¸å…è®¸æ‚¨è¿™æ ·åšï¼Œå¹¶ä¸”ä¼šæŠ›å‡ºç¼–è¯‘æ—¶é”™è¯¯ã€‚ æˆ‘ä»¬çŸ¥é“ Lambda è¡¨è¾¾å¼æ˜¯æ²¡æœ‰åç§°çš„åŒ¿åå‡½æ•°ï¼Œå®ƒä»¬ï¼ˆä¸»è¦ï¼‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚å¥½å§ï¼Œåœ¨ Java ä¸­ï¼Œæ–¹æ³•å‚æ•°æ€»æ˜¯æœ‰ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸”ä¼šæŸ¥æ‰¾ç±»å‹ä¿¡æ¯ä»¥ç¡®å®šåœ¨æ–¹æ³•é‡è½½ç”šè‡³ç®€å•æ–¹æ³•è°ƒç”¨çš„æƒ…å†µä¸‹éœ€è¦è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚ å› æ­¤ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ª lambda è¡¨è¾¾å¼ä¹Ÿå¿…é¡»å¯ä»¥è½¬æ¢ä¸ºæŸç§â€œç±»å‹â€æ‰èƒ½è¢«æ¥å—ä¸ºæ–¹æ³•å‚æ•°ã€‚å¥½å§ï¼Œè½¬æ¢ lambda è¡¨è¾¾å¼çš„ç±»å‹å§‹ç»ˆæ˜¯å‡½æ•°å¼æ¥å£ç±»å‹ã€‚ å‡½æ•°å¼æ¥å£ç±»å‹çš„ä¸¤ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯Consumerå’ŒBiConsumeræ¥å£ã€‚ è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£å®ƒã€‚å¦‚æœæˆ‘ä»¬å¿…é¡»ç¼–å†™ä¸€ä¸ªçº¿ç¨‹æ¥åœ¨æ§åˆ¶å°ä¸­æ‰“å°â€œhello word!â€ï¼Œé‚£ä¹ˆæœ€ç®€å•çš„ä»£ç å°†æ˜¯ï¼š 123456new Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println(&quot;hello word!&quot;); &#125;&#125;).start(); å¦‚æœæˆ‘ä»¬ä¸ºæ­¤ä»»åŠ¡ä½¿ç”¨ lambda è¡¨è¾¾å¼ï¼Œåˆ™ä»£ç å°†æ˜¯ï¼š 123new Thread(() -&gt; &#123; System.out.println(&quot;hello word! First!&quot;); &#125;).run(); è¿™Runnableæ˜¯ä¸€ä¸ªå…·æœ‰å•ä¸€æ–¹æ³•çš„åŠŸèƒ½æ¥å£run()ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬å°† lambda è¡¨è¾¾å¼ä¼ é€’ç»™Threadç±»çš„æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•å°†è¡¨è¾¾å¼è½¬æ¢ä¸ºç­‰æ•ˆRunnableä»£ç ï¼Œå¦‚ç¬¬ä¸€ä¸ªä»£ç ç¤ºä¾‹æ‰€ç¤ºã€‚ å¦‚æœç¼–è¯‘å™¨æˆåŠŸï¼Œåˆ™ä¸€åˆ‡æ­£å¸¸ã€‚å¦‚æœç¼–è¯‘å™¨æ— æ³•å°†è¡¨è¾¾å¼è½¬æ¢ä¸ºç­‰æ•ˆçš„å®ç°ä»£ç ï¼Œå®ƒå°±ä¼šæŠ¥é”™ã€‚åœ¨è¿™é‡Œï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œlambda è¡¨è¾¾å¼è¢«è½¬æ¢ä¸º type Runnableã€‚ lambda è¡¨è¾¾å¼æ˜¯å‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œä½† lambda è¡¨è¾¾å¼æœ¬èº«ä¸åŒ…å«æœ‰å…³å®ƒæ­£åœ¨å®ç°çš„å‡½æ•°å¼æ¥å£çš„ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯æ˜¯ä»ä½¿ç”¨è¡¨è¾¾å¼çš„ä¸Šä¸‹æ–‡ä¸­æ¨å¯¼å‡ºæ¥çš„ã€‚ 5. Java 8 Lambda è¡¨è¾¾å¼ç¤ºä¾‹ æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›ä»£ç ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥é˜…è¯»å¹¶åˆ†æå¦‚ä½•åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ç¼–ç¨‹ä¸­ä½¿ç”¨ lambda è¡¨è¾¾å¼ã€‚ ç¤ºä¾‹ 1ï¼šä½¿ç”¨ lambda è¡¨è¾¾å¼è¿­ä»£ List å¹¶å¯¹åˆ—è¡¨å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œ åœ¨ç»™å®šçš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¿­ä»£åˆ—è¡¨å¹¶æ‰“å°æ ‡å‡†è¾“å‡ºä¸­çš„æ‰€æœ‰åˆ—è¡¨å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»»ä½•æ‰€éœ€çš„æ“ä½œæ¥ä»£æ›¿æ‰“å°å®ƒä»¬ã€‚ 1234567List&lt;String&gt; pointList = new ArrayList(); pointList.add(&quot;1&quot;);pointList.add(&quot;2&quot;); pointList.forEach(p -&gt; &#123; System.out.println(p); &#125; ); ç¤ºä¾‹ 2ï¼šåœ¨ Java ä¸­ä½¿ç”¨ lambda è¡¨è¾¾å¼åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹åœ¨ç»™å®šçš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†Runnableæ¥å£çš„å®ä¾‹ä¼ é€’ç»™Threadæ„é€ å‡½æ•°ã€‚ 123new Thread( () -&gt; System.out.println(&quot;My Runnable&quot;); ).start(); ç¤ºä¾‹ 3ï¼šä½¿ç”¨ lambda è¡¨è¾¾å¼å‘ GUI ç»„ä»¶æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨JButton button = new JButton(&quot;Submit&quot;); button.addActionListener((e) -&gt; &#123; System.out.println(&quot;Click event triggered !!&quot;); &#125;); ä»¥ä¸Šæ˜¯ Java 8 ä¸­éå¸¸åŸºæœ¬çš„ lambda è¡¨è¾¾å¼ç¤ºä¾‹ã€‚","categories":[{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"}],"tags":[{"name":"lambda","slug":"lambda","permalink":"http://dangkei.github.io/tags/lambda/"}]},{"title":"nodejsé‡Œå†™ä¸€ä¸ªè‡ªå®šä¹‰çš„rediså®¢æˆ·ç«¯","slug":"nodejs-redisclient","date":"2021-07-08T07:23:53.000Z","updated":"2021-07-12T06:41:04.287Z","comments":true,"path":"2021/07/08/nodejs-redisclient/","link":"","permalink":"http://dangkei.github.io/2021/07/08/nodejs-redisclient/","excerpt":"","text":"ä»€ä¹ˆæ˜¯Node.js? Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆã€‚ Node æ˜¯ä¸€ä¸ªè®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼Œå®ƒè®© JavaScript æˆä¸ºä¸PHPã€Pythonã€Perlã€Ruby ç­‰æœåŠ¡ç«¯è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€ã€‚ å‘å¸ƒäº2009å¹´5æœˆï¼Œç”±Ryan Dahlå¼€å‘ï¼Œå®è´¨æ˜¯å¯¹Chrome V8å¼•æ“è¿›è¡Œäº†å°è£…ã€‚ Nodeå¯¹ä¸€äº›ç‰¹æ®Šç”¨ä¾‹è¿›è¡Œä¼˜åŒ–ï¼Œæä¾›æ›¿ä»£çš„APIï¼Œä½¿å¾—V8åœ¨éæµè§ˆå™¨ç¯å¢ƒä¸‹è¿è¡Œå¾—æ›´å¥½ã€‚V8å¼•æ“æ‰§è¡ŒJavascriptçš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚ Nodeæ˜¯ä¸€ä¸ªåŸºäºChrome JavaScriptè¿è¡Œæ—¶å»ºç«‹çš„å¹³å°ï¼Œ ç”¨äºæ–¹ä¾¿åœ°æ­å»ºå“åº”é€Ÿåº¦å¿«ã€æ˜“äºæ‰©å±•çš„ç½‘ç»œåº”ç”¨ã€‚Node ä½¿ç”¨äº‹ä»¶é©±åŠ¨ï¼Œ éé˜»å¡I/O æ¨¡å‹è€Œå¾—ä»¥è½»é‡å’Œé«˜æ•ˆï¼Œéå¸¸é€‚åˆåœ¨åˆ†å¸ƒå¼è®¾å¤‡ä¸Šè¿è¡Œæ•°æ®å¯†é›†å‹çš„å®æ—¶åº”ç”¨ã€‚ å®˜ç½‘ä¸Šå¯¹å…¶ç‰¹ç‚¹æè¿°ä¸ºï¼š å®ƒæ˜¯ä¸€ä¸ªJavascriptè¿è¡Œç¯å¢ƒ ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š äº‹ä»¶é©±åŠ¨ éé˜»å¡I/O è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨ å•è¿›ç¨‹ï¼Œå•çº¿ç¨‹ Node.jsä¸­æ¨¡å—åŒ–å¼€å‘è§„èŒƒNode.jsè§„å®šä¸€ä¸ªJavaScriptæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡å’Œå‡½æ•°é»˜è®¤æƒ…å†µä¸‹åœ¨å¤–éƒ¨æ— æ³•å¾—åˆ°ã€‚æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨exportså¯¹è±¡è¿›è¡Œæˆå‘˜å¯¼å‡ºï¼Œ ä½¿ç”¨requireæ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚ è‡ªå·±å†™ä¸€ä¸ªæ“ä½œredisçš„client æ¨¡å—ã€‚ é¦–å…ˆæˆ‘ä»¬è¦åœ¨nodejsä¸­ä½¿ç”¨rediså¿…é¡»ä¸‹è½½redisæ¨¡å—ï¼Œåœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œä¸‹é¢å‘½ä»¤1npm install redis æŒ‰ä¹ æƒ¯ï¼Œæˆ‘ä»¬å…ˆåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹moduleså†åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹redisæˆ‘å¸Œæœ›æŠŠredisé“¾æ¥çš„ç›¸å…³ä¿¡æ¯å†™åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶è€Œä¸æ˜¯ç¨‹åºå†…ï¼Œæ‰€ä»¥æˆ‘é¦–å…ˆåˆ›å»ºä¸€ä¸ªredisçš„é…ç½®æ–‡ä»¶æ–‡ä»¶åä¸ºconfig.jsonconfig.json12345678&#123; &quot;redis&quot;:&#123; &quot;port&quot;:&quot;6379&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;password&quot;:&quot;password&quot;, &quot;detect_buffers&quot;: &quot;true&quot; &#125;&#125; å¼€å§‹å†™redisClient.js,é¦–å…ˆæŠŠredisæ’ä»¶å’Œè‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶å£°æ˜è¿›æ¥ 12const redis = require(&#x27;redis&#x27;)const redisOptions = require(&#x27;./config&#x27;).redis ç„¶åè®¾ç½®redisé…ç½®ä¿¡æ¯ï¼Œå‡ºäº†è¿æ¥æ–¹å¼è¿˜æœ‰ç¼“å­˜è®¾ç½®ä»¥åŠé‡è¿æœºåˆ¶ 1234567891011121314151617181920212223242526const options = &#123; host: redisOptions.host, port: redisOptions.port, password: redisOptions.pass, detect_buffers: redisOptions.detect_buffers, // ä¼ å…¥buffer è¿”å›ä¹Ÿæ˜¯buffer å¦åˆ™ä¼šè½¬æ¢æˆString retry_strategy: function (options) &#123; // é‡è¿æœºåˆ¶ if (options.error &amp;&amp; options.error.code === &quot;ECONNREFUSED&quot;) &#123; // End reconnecting on a specific error and flush all commands with // a individual error return new Error(&quot;The server refused the connection&quot;); &#125; if (options.total_retry_time &gt; 1000 * 60 * 60) &#123; // End reconnecting after a specific timeout and flush all commands // with a individual error return new Error(&quot;Retry time exhausted&quot;); &#125; if (options.attempt &gt; 10) &#123; // End reconnecting with built in error return undefined; &#125; // reconnect after return Math.min(options.attempt * 100, 3000); &#125;&#125;","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://dangkei.github.io/tags/redis/"}]},{"title":"Javaå¤§æ‹¬å·åˆå§‹åŒ–å¯¹è±¡","slug":"Java-double-brace-initialization","date":"2021-07-06T10:30:00.000Z","updated":"2021-07-08T01:19:12.522Z","comments":true,"path":"2021/07/06/Java-double-brace-initialization/","link":"","permalink":"http://dangkei.github.io/2021/07/06/Java-double-brace-initialization/","excerpt":"","text":"Java Double Brace Initialization 1. åˆ›å»ºå’Œåˆå§‹åŒ–ä¸å¸¦åŒå¤§æ‹¬å·çš„å¯¹è±¡æ‚¨ä¸è§‰å¾—Javaåº”è¯¥ä¸ºé›†åˆï¼ˆListã€Mapã€Setç­‰ï¼‰æä¾›æ›´æ–¹ä¾¿çš„è¯­æ³•å—ã€‚æˆ‘ä¹‹æ‰€ä»¥è¿™ä¹ˆè¯´ï¼Œæ˜¯å› ä¸ºæ¯æ¬¡å¦‚æœæˆ‘ä»¬å¿…é¡»åœ¨ä»£ç ä¸­ä½¿ç”¨é›†åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œ- ä¸ºä¸´æ—¶é›†åˆå£°æ˜å˜é‡ åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºé›†åˆï¼Œå¹¶åœ¨å˜é‡ä¸­å­˜å‚¨å¯¹å®ƒçš„å¼•ç”¨ æŠŠä¸œè¥¿æ”¶è—èµ·æ¥ å°†é›†åˆä¼ é€’ç»™æ–¹æ³• ä¾‹å¦‚ï¼šWithoutDoubleBrace.java 123456789101112131415161718192021import java.util.HashSet;import java.util.Set; public class WithoutDoubleBrace &#123; public static void main(String[] args) &#123; Set&lt;String&gt; params = new HashSet&lt;String&gt;(); params.add(&quot;param one&quot;); params.add(&quot;param two&quot;); params.add(&quot;param three&quot;); params.add(&quot;param four&quot;); // ... and so on; Now pass above collection as parameter to method or // some other ways useParamsInSomeMethod(params); &#125; private static void useParamsInSomeMethod(Set&lt;String&gt; params) &#123; // TODO Auto-generated method stub &#125;&#125; è¿™äº›éƒ½æ˜¯æˆ‘ä»¬åœ¨å®æ—¶ç¼–ç å®è·µä¸­éµå¾ªçš„æ­£å¸¸æ­¥éª¤ã€‚ 2. åœ¨â€œå•æ­¥â€ä¸­åˆ›å»ºå’Œåˆå§‹åŒ–å¯¹è±¡çš„åŒå¤§æ‹¬å·åˆå§‹åŒ–è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚è¿™å°±æ˜¯æ‰€è°“çš„åŒå¤§æ‹¬å·åˆå§‹åŒ–ã€‚ä½¿ç”¨åŒå¤§æ‹¬å·åŠŸèƒ½çš„è¯­æ³•å¦‚ä¸‹ï¼š DoubleBrace.java 12345678910111213141516171819202122232425import java.util.HashSet;import java.util.Set; public class DoubleBrace &#123; public static void main(String[] args) &#123; Set&lt;String&gt; params = new HashSet&lt;String&gt;() &#123; &#123; add(&quot;param one&quot;); add(&quot;param two&quot;); add(&quot;param three&quot;); add(&quot;param four&quot;); &#125; &#125;; // ... and so on; Now pass above collection as parameter to method or // some other ways useParamsInSomeMethod(params); &#125; private static void useParamsInSomeMethod(Set&lt;String&gt; params) &#123; // TODO Auto-generated method stub &#125;&#125; 2.1. å†…è”åŒå¤§æ‹¬å·åˆå§‹åŒ–æˆ–è€…æ›´ç®€å•ä¸€äº›ï¼š 12345678910111213141516171819import java.util.HashSet; public class DoubleBrace &#123; public static void main(String[] args) &#123; useParamsInSomeMethod(new HashSet&lt;String&gt;() &#123; &#123; add(&quot;param one&quot;); add(&quot;param two&quot;); add(&quot;param three&quot;); add(&quot;param four&quot;); &#125; &#125;); &#125; private static void useParamsInSomeMethod(HashSet&lt;String&gt; params) &#123; //perform some operation &#125;&#125; 3. åŒå¤§æ‹¬å·åˆå§‹åŒ–å¦‚ä½•å·¥ä½œï¼Ÿè®©æˆ‘ä»¬äº†è§£è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ ç¬¬ä¸€ä¸ªå¤§æ‹¬å·åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ¿åå†…éƒ¨ç±»ã€‚è¿™äº›å†…éƒ¨ç±»èƒ½å¤Ÿè®¿é—®å…¶çˆ¶ç±»çš„è¡Œä¸ºã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨åˆ›å»ºHashSetç±»çš„å­ç±»ï¼Œæ‰€ä»¥è¿™ä¸ªå†…éƒ¨ç±»èƒ½å¤Ÿä½¿ç”¨addï¼ˆï¼‰æ–¹æ³•ã€‚ ç¬¬äºŒç»„å¤§æ‹¬å·åªä¸è¿‡æ˜¯åˆå§‹åŒ–å®ä¾‹ã€‚å¦‚æœæ‚¨æé†’æ ¸å¿ƒjavaæ¦‚å¿µï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å®ä¾‹åˆå§‹å€¼è®¾å®šé¡¹å—ä¸é™æ€åˆå§‹å€¼è®¾å®šé¡¹ç›¸å…³è”ï¼Œå› ä¸ºç±»ä¼¼äºå¤§æ‹¬å·çš„ç»“æ„ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œé™æ€åˆå§‹å€¼è®¾å®šé¡¹æ˜¯ç”¨staticå…³é”®å­—æ·»åŠ çš„ï¼Œå¹¶ä¸”åªè¿è¡Œä¸€æ¬¡ï¼›ä¸ç®¡æ‚¨åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ã€‚ 4. æ€»ç»“ å› ä¸ºç”¨åŒæ‹¬å·åˆå§‹åŒ–çš„ç±»åŸºæœ¬ä¸Šæ˜¯å†…éƒ¨ç±»ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰å…¶ä»–ç±»åˆ›å»ºå®ƒä»¬ï¼Œç›´åˆ°å®ƒä»¬ä¸æ˜¯æœ€ç»ˆçš„ã€‚ å¦‚æœæ²¡æœ‰æ˜¾å¼ä¿®æ”¹equalsï¼ˆï¼‰æ–¹æ³•ä»¥ä½¿ç”¨è¿™äº›ç±»ï¼Œåˆ™ä¸åº”ä½¿ç”¨æ­¤ç±»ç±»ï¼Œå› ä¸ºequalsï¼ˆï¼‰æ–¹æ³•é€šå¸¸ä¹Ÿä¼šæ£€æŸ¥ç±»çš„ç›¸ç­‰æ€§ã€‚ æ‚¨åº”è¯¥å§‹ç»ˆè®°ä½ï¼Œåˆå§‹å€¼è®¾å®šé¡¹æ˜¯åœ¨æ„é€ å‡½æ•°ä¹‹å‰è¿è¡Œçš„ï¼ˆè€Œä¸æ˜¯åœ¨è¶…ç±»æ„é€ å‡½æ•°ä¹‹å‰ï¼‰ã€‚ æ‚¨åˆ›å»ºçš„åŒ¿åç±»çš„å®ä¾‹åŒ…å«å¯¹å°é—­å¯¹è±¡çš„åˆæˆå¼•ç”¨ã€‚å¦‚æœåºåˆ—åŒ–é›†åˆï¼Œè¿˜å°†åºåˆ—åŒ–å¤–éƒ¨ç±»ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚ 5. Java 9 å·¥å‚æ–¹æ³•Java 9å¸¦æ¥äº†å¾ˆå¤šå·¥å‚æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºå’Œåˆå§‹åŒ–å•ä¸ªè¯­å¥ä¸­çš„Javaé›†åˆã€‚å¦‚æœæ‚¨ä½¿ç”¨Java 9æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ç§æ›¿ä»£æ–¹æ³•ï¼Œä¹Ÿæ˜¯é¦–é€‰æ–¹æ³•ã€‚å®ƒæ¶ˆé™¤äº†åŒæ”¯æ’‘åˆå§‹åŒ–çš„å¿…è¦æ€§ã€‚ 12345678List&lt;String&gt; names = List.of(&quot;lokesh&quot;, &quot;rohit&quot;, &quot;alex&quot;); Set&lt;String&gt; names = Set.of(&quot;Lokesh&quot;, &quot;Amit&quot;, &quot;John&quot;); Map&lt;String, String&gt; names = Map.ofEntries( Map.entry(&quot;1&quot;, &quot;Lokesh&quot;), Map.entry(&quot;2&quot;, &quot;Amit&quot;), Map.entry(&quot;3&quot;, &quot;Brian&quot;)); 6. Java 8 æµæ”¶é›†å™¨å¯¹äºJava 8å’Œæ›´ä½ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥åœ¨Javaæµçš„å½¢å¼ä¸­æ‰¾åˆ°ç±»ä¼¼çš„ç”¨ä¾‹ã€‚ 12Set&lt;String&gt; names = Stream.of(&quot;lokesh&quot;, &quot;rohit&quot;, &quot;alex&quot;) .collect( collectingAndThen( toSet(), Collections::unmodifiableSet ) );","categories":[{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"}],"tags":[{"name":"Initialization","slug":"Initialization","permalink":"http://dangkei.github.io/tags/Initialization/"}]},{"title":"Javaçš„æ ‡å‡†IOä¸æ–°IOæœ‰ä»€ä¹ˆåŒºåˆ«","slug":"java-standard-IO-vs-new-IO","date":"2021-07-05T07:42:37.000Z","updated":"2021-07-07T06:43:24.050Z","comments":true,"path":"2021/07/05/java-standard-IO-vs-new-IO/","link":"","permalink":"http://dangkei.github.io/2021/07/05/java-standard-IO-vs-new-IO/","excerpt":"","text":"Java Standard IO vs New IO Java æ–°è¾“å…¥/è¾“å‡º (NIO)æ˜¯éš JDK 1.4 å¼•å…¥çš„ã€‚ä»æ ‡å‡† IO çš„è§’åº¦å‡ºå‘ï¼ŒNIO ä¸º Java åº“æä¾›äº†é«˜é€Ÿã€é¢å‘å—çš„ IOã€‚ é€šè¿‡å®šä¹‰ç±»æ¥ä¿å­˜æ•°æ®ï¼Œå¹¶é€šè¿‡åœ¨å—ä¸­å¤„ç†è¯¥æ•°æ®ï¼ŒNIO ä»¥ä¸€ç§java.ioåŒ…æ— æ³•ä½¿ç”¨çš„æ–¹å¼åˆ©ç”¨ä½çº§ä¼˜åŒ–ï¼Œè€Œä¸ä½¿ç”¨æœ¬æœºä»£ç ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹ç¡®å®šæ ‡å‡† IO ä¸æ–° IO ä¹‹é—´æœ€æ˜¾ç€çš„å·®å¼‚ï¼Œåœ¨å†³å®šåœ¨ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å“ªä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»äº†è§£è¿™äº›å·®å¼‚ã€‚ è°ƒç”¨æ ‡å‡† IOJava IOæ˜¯æŒ‡è®¡ç®—æœºä¸ä¸–ç•Œå…¶ä»–éƒ¨åˆ†ä¹‹é—´æˆ–å•ä¸ªç¨‹åºä¸è®¡ç®—æœºå…¶ä»–éƒ¨åˆ†ä¹‹é—´çš„æ¥å£ã€‚ åœ¨ Java ç¼–ç¨‹ä¸­ï¼ŒIO ç±»ç›´åˆ°æœ€è¿‘æ‰ä½¿ç”¨æµæ¯”å–»æ¥å®ç°ã€‚æ‰€æœ‰ IO éƒ½è¢«è§†ä¸ºå•ä¸ªå­—èŠ‚çš„ç§»åŠ¨ï¼Œä¸€æ¬¡ä¸€ä¸ªï¼Œé€šè¿‡åä¸º a çš„å¯¹è±¡Streamã€‚ Stream IO ç”¨äºè”ç³»å¤–ç•Œã€‚å®ƒä¹Ÿåœ¨å†…éƒ¨ä½¿ç”¨ï¼Œç”¨äºå°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚ï¼Œç„¶åå†è½¬æ¢ä¸ºå¯¹è±¡ã€‚å®ƒè¢«ç§°ä¸ºåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ ä»‹ç» Java æ–° IOJava NIO çš„åˆ›å»ºæ˜¯ä¸ºäº†è®© Java ç¨‹åºå‘˜æ— éœ€ç¼–å†™è‡ªå®šä¹‰æœ¬æœºä»£ç å³å¯å®ç°é«˜é€Ÿè¾“å…¥-è¾“å‡ºæ“ä½œã€‚ NIO å°†æœ€è€—æ—¶çš„ I/O æ´»åŠ¨ï¼ˆå³å¡«å……å’Œæ’ç©ºç¼“å†²åŒºï¼‰ç§»å›æ“ä½œç³»ç»Ÿï¼Œä»è€Œå¤§å¤§æé«˜é€Ÿåº¦ã€‚ å¦‚æœä»¥ä¸Šä»‹ç»è®©æ‚¨æ„Ÿåˆ°å£æ¸´ï¼Œè¯·ä¸è¦æ‹…å¿ƒï¼Œéšç€æˆ‘ä»¬çš„å‰è¿›ï¼Œæ‚¨æ˜¯å¦ä¼šæ„Ÿè§‰æ›´å¥½ã€‚è®©æˆ‘ä»¬ä»æ‰¾å‡ºå·®å¼‚å¼€å§‹ã€‚ IO å’Œ NIO çš„åŒºåˆ«IO æµä¸ NIO å—æ ‡å‡† IO åº“ ( java.io.) å’Œæ–° IO ( java.nio.)ä¹‹é—´æœ€é‡è¦çš„åŒºåˆ«åœ¨äºæ•°æ®å¦‚ä½•æ‰“åŒ…å¹¶ä»æºä¼ è¾“åˆ°ç›®æ ‡ã€‚å¦‚å‰æ‰€è¿°ï¼Œæ ‡å‡† I/O å¤„ç†æµä¸­çš„æ•°æ®ï¼Œè€Œ NIO å¤„ç†å—ä¸­çš„æ•°æ®ã€‚ ç”²é¢å‘æµçš„I / Oä¸æ•°æ®ç³»ç»Ÿå¤„ç†çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ä¸€æ¬¡ã€‚è¾“å…¥æµäº§ç”Ÿä¸€å­—èŠ‚æ•°æ®ï¼Œè¾“å‡ºæµæ¶ˆè€—ä¸€å­—èŠ‚æ•°æ®ã€‚ä¸ºæµæ•°æ®åˆ›å»ºè¿‡æ»¤å™¨éå¸¸å®¹æ˜“ã€‚å°†å‡ ä¸ªè¿‡æ»¤å™¨é“¾æ¥åœ¨ä¸€èµ·ä¹Ÿç›¸å¯¹ç®€å•ï¼Œè¿™æ ·æ¯ä¸ªè¿‡æ»¤å™¨éƒ½å¯ä»¥åœ¨ä¸€ä¸ªå¤æ‚çš„å¤„ç†æœºåˆ¶ä¸­å‘æŒ¥ä½œç”¨ã€‚ é‡è¦çš„æ˜¯å­—èŠ‚ä¸ä¼šç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨æµä¸­çš„æ•°æ®ä¸­æ¥å›ç§»åŠ¨ã€‚å¦‚æœæ‚¨éœ€è¦åœ¨ä»æµä¸­è¯»å–çš„æ•°æ®ä¸­æ¥å›ç§»åŠ¨ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆå°†å…¶ç¼“å­˜åœ¨ç¼“å†²åŒºä¸­ã€‚ ç”²é¢å‘å—çš„I / Oç³»ç»Ÿæ¶‰åŠåœ¨å—ä¸­çš„æ•°æ®ã€‚æ¯ä¸ªæ“ä½œåœ¨ä¸€ä¸ªæ­¥éª¤ä¸­äº§ç”Ÿæˆ–æ¶ˆè€—ä¸€ä¸ªæ•°æ®å—ã€‚æŒ‰å—å¤„ç†æ•°æ®æ¯”æŒ‰ï¼ˆæµï¼‰å­—èŠ‚å¤„ç†æ•°æ®å¿«å¾—å¤šã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚ æ•°æ®å—åœ¨å¤„ç†è¿‡ç¨‹ä¸­ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¤šçš„çµæ´»æ€§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ£€æŸ¥ç¼“å†²åŒºæ˜¯å¦åŒ…å«æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œä»¥ä¾¿å®Œå…¨å¤„ç†å®ƒã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿åœ¨å°†æ›´å¤šæ•°æ®è¯»å…¥ç¼“å†²åŒºæ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šè¦†ç›–å°šæœªå¤„ç†çš„ç¼“å†²åŒºä¸­çš„æ•°æ®ã€‚ ä¸åˆ©çš„ä¸€é¢æ˜¯ï¼Œé¢å‘å—çš„ I/O ç¼ºä¹é¢å‘æµ I/O çš„ä¸€äº›ä¼˜é›…å’Œç®€å•ã€‚ é˜…è¯»æ›´å¤šï¼šä½¿ç”¨ Java NIO è¯»å–æ–‡ä»¶çš„ 3 ç§æ–¹æ³• åŒæ­¥æ ‡å‡†ä¸å¼‚æ­¥æ–° IOJava IO çš„å„ç§æµéƒ½æ˜¯é˜»å¡çš„æˆ–åŒæ­¥çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨read()orwrite()æ“ä½œæ—¶ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€äº›æ•°æ®è¦è¯»å–ï¼Œæˆ–è€…æ•°æ®è¢«å®Œå…¨å†™å…¥ã€‚è¯¥çº¿ç¨‹å°†åœ¨æ­¤æœŸé—´å¤„äºé˜»å¡çŠ¶æ€ã€‚è¿™è¢«è®¤ä¸ºæ˜¯åœ¨ç°ä»£è¯­è¨€ä¸­å¼•å…¥å¤šçº¿ç¨‹çš„ä¸€ä¸ªå¾ˆå¥½çš„å……åˆ†ç†ç”±ã€‚ åœ¨å¼‚æ­¥ IO ä¸­ï¼Œçº¿ç¨‹å¯ä»¥è¯·æ±‚å°†æŸäº›æ•°æ®å†™å…¥é€šé“ï¼Œä½†ä¸ä¼šç­‰å¾…å®ƒå®Œå…¨å†™å…¥ã€‚ç„¶åè¯¥çº¿ç¨‹å¯ä»¥ç»§ç»­å¹¶åŒæ—¶æ‰§è¡Œå…¶ä»–æ“ä½œã€‚é€šå¸¸è¿™äº›çº¿ç¨‹åœ¨æ²¡æœ‰è¢« IO è°ƒç”¨é˜»å¡çš„æ—¶å€™å°†å®ƒä»¬çš„ç©ºé—²æ—¶é—´èŠ±åœ¨åŒæ—¶åœ¨å…¶ä»–é€šé“ä¸Šæ‰§è¡Œ IO ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå•ä¸ªçº¿ç¨‹ç°åœ¨å¯ä»¥ç®¡ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“ã€‚ åŒæ­¥ç¨‹åºé€šå¸¸ä¸å¾—ä¸æ±‚åŠ©äºè½®è¯¢ï¼Œæˆ–è€…åˆ›å»ºå¾ˆå¤šå¾ˆå¤šçº¿ç¨‹æ¥å¤„ç†å¤§é‡è¿æ¥ã€‚ä½¿ç”¨å¼‚æ­¥ I/Oï¼Œæ‚¨å¯ä»¥åœ¨ä»»æ„æ•°é‡çš„é€šé“ä¸Šç›‘å¬ I/O äº‹ä»¶ï¼Œæ— éœ€è½®è¯¢å’Œé¢å¤–çº¿ç¨‹ã€‚ å¼‚æ­¥ I/O ä¸­çš„ä¸­å¿ƒå¯¹è±¡ç§°ä¸ºSelectorã€‚Selector æ˜¯æ‚¨æ³¨å†Œå¯¹å„ç§ IO äº‹ä»¶æ„Ÿå…´è¶£çš„åœ°æ–¹ï¼Œå®ƒæ˜¯å‘Šè¯‰æ‚¨è¿™äº›äº‹ä»¶ä½•æ—¶å‘ç”Ÿçš„å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åˆ›å»ºä¸€ä¸ª Selectorã€‚ Selector selector = Selector.open();ç¨åï¼Œæˆ‘ä»¬å°†register()åœ¨å„ç§Channelå¯¹è±¡ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä»¥æ³¨å†Œæˆ‘ä»¬å¯¹è¿™äº›å¯¹è±¡å†…éƒ¨å‘ç”Ÿçš„ IO äº‹ä»¶çš„å…´è¶£ã€‚çš„ç¬¬ä¸€ä¸ªå‚æ•°register()å§‹ç»ˆæ˜¯Selectorã€‚ é˜…è¯»æ›´å¤šï¼šå¦‚ä½•åœ¨ Java NIO ä¸­å®šä¹‰è·¯å¾„ Java IO ä¸ NIO APIä¸ç”¨çŒœæµ‹ä½¿ç”¨ NIO æ—¶çš„ API è°ƒç”¨çœ‹èµ·æ¥ä¸ä½¿ç”¨ IO æ—¶çš„ä¸åŒã€‚åœ¨ NIO ä¸­ï¼Œä¸æ˜¯ä»…ä»…ä»ä¾‹å¦‚ an ä¸­è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®å­—èŠ‚ï¼Œè€Œæ˜¯InputStreamå¿…é¡»é¦–å…ˆå°†æ•°æ®è¯»å…¥ a Bufferï¼Œç„¶åä»å…¶åè¿›è¡Œå¤„ç†ã€‚ ä½¿ç”¨æ ‡å‡† IO è¯»å–æ–‡ä»¶çš„ Java ç¤ºä¾‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536&gt;import java.io.BufferedReader;&gt;import java.io.FileReader;&gt;import java.io.IOException;&gt;public class WithoutNIOExample&gt;&#123; public static void main(String[] args) &#123; BufferedReader br = null; String sCurrentLine = null; try &#123; br = new BufferedReader( new FileReader(&quot;test.txt&quot;)); while ((sCurrentLine = br.readLine()) != null) &#123; System.out.println(sCurrentLine); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; try &#123; if (br != null) br.close(); &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125; &#125;&gt;&#125; ä½¿ç”¨ New IO è¯»å–æ–‡ä»¶çš„ Java ç¤ºä¾‹ã€‚ 1234567891011121314151617181920212223242526&gt;import java.io.IOException;&gt;import java.io.RandomAccessFile;&gt;import java.nio.ByteBuffer;&gt;import java.nio.channels.FileChannel;&gt;public class ReadFileWithFixedSizeBuffer&gt;&#123; public static void main(String[] args) throws IOException &#123; RandomAccessFile aFile = new RandomAccessFile (&quot;test.txt&quot;, &quot;r&quot;); FileChannel inChannel = aFile.getChannel(); ByteBuffer buffer = ByteBuffer.allocate(1024); while(inChannel.read(buffer) &gt; 0) &#123; buffer.flip(); for (int i = 0; i &lt; buffer.limit(); i++) &#123; System.out.print((char) buffer.get()); &#125; buffer.clear(); // do something with the data and clear/compact it. &#125; inChannel.close(); aFile.close(); &#125;&gt;&#125; ç»“è®ºNIO å…è®¸æ‚¨ä»…ä½¿ç”¨å•ä¸ªï¼ˆæˆ–æ›´å°‘ï¼‰çº¿ç¨‹æ¥ç®¡ç†å¤šä¸ªé€šé“ï¼Œä½†ä»£ä»·æ˜¯è§£ææ•°æ®å¯èƒ½æ¯”ä½¿ç”¨æ ‡å‡† IO ä»é˜»å¡æµä¸­è¯»å–æ•°æ®è¦å¤æ‚ä¸€äº›ã€‚ å¦‚æœæ‚¨éœ€è¦åŒæ—¶ç®¡ç†æ•°åƒä¸ªæ‰“å¼€çš„è¿æ¥ï¼Œæ¯ä¸ªè¿æ¥åªå‘é€å°‘é‡æ•°æ®ï¼Œä¾‹å¦‚èŠå¤©æœåŠ¡å™¨ï¼Œåœ¨ NIO ä¸­å®ç°æœåŠ¡å™¨å¯èƒ½æ˜¯ä¸€ä¸ªä¼˜åŠ¿ã€‚åŒæ ·ï¼Œå¦‚æœæ‚¨éœ€è¦ä¸å…¶ä»–è®¡ç®—æœºä¿æŒå¤§é‡å¼€æ”¾è¿æ¥ï¼Œä¾‹å¦‚åœ¨ P2P ç½‘ç»œä¸­ï¼Œä½¿ç”¨å•ä¸ªçº¿ç¨‹æ¥ç®¡ç†æ‰€æœ‰å‡ºç«™è¿æ¥å¯èƒ½æ˜¯ä¸€ä¸ªä¼˜åŠ¿ã€‚ å¦‚æœæ‚¨çš„è¿æ¥è¾ƒå°‘ä¸”å¸¦å®½éå¸¸é«˜ï¼Œä¸€æ¬¡å‘é€å¤§é‡æ•°æ®ï¼Œåˆ™åº”è¯¥é€‰æ‹©æ ‡å‡† IO æœåŠ¡å™¨å®ç°ã€‚ æœ¬æ–‡ç¿»è¯‘è‡ªï¼šhttps://howtodoinjava.com/java/io/difference-between-io-nio/","categories":[{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"}],"tags":[{"name":"IO","slug":"IO","permalink":"http://dangkei.github.io/tags/IO/"}]},{"title":"Java IOå†…éƒ¨æ˜¯å¦‚ä½•å·¥ä½œçš„?","slug":"how-java-io-work","date":"2021-07-01T08:17:34.000Z","updated":"2021-07-06T07:27:12.478Z","comments":true,"path":"2021/07/01/how-java-io-work/","link":"","permalink":"http://dangkei.github.io/2021/07/01/how-java-io-work/","excerpt":"","text":"æœ¬æ–‡æ—¨åœ¨ä¸ºé‚£äº›å¥½å¥‡çŸ¥é“å¦‚ä½•åœ¨æœºå™¨çº§åˆ«æ˜ å°„Java IOæ“ä½œä»¥åŠåœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ç¡¬ä»¶å§‹ç»ˆåšä»€ä¹ˆçš„è¯»è€…ç¼–å†™ã€‚ æˆ‘å‡è®¾æ‚¨ç†Ÿæ‚‰åŸºæœ¬çš„IOæ“ä½œï¼Œä¾‹å¦‚è¯»å–æ–‡ä»¶ã€é€šè¿‡JavaIO APIç¼–å†™æ–‡ä»¶ï¼›å› ä¸ºè¿™è¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ã€‚ ç¼“å†²åŒºå¤„ç†å’Œå†…æ ¸ä¸ç”¨æˆ·ç©ºé—´â€œinput/outputâ€ä¸€è¯åªæ„å‘³ç€å°†æ•°æ®ç§»å‡ºç¼“å†²åŒºã€‚ ç¼“å†²åŒºä»¥åŠç¼“å†²åŒºçš„å¤„ç†æ–¹å¼æ˜¯æ‰€æœ‰IOçš„åŸºç¡€ã€‚ä½ åªè¦æ—¶åˆ»è®°ä½è¿™ä¸ªã€‚ é€šå¸¸ï¼Œè¿›ç¨‹é€šè¿‡è¯·æ±‚æ“ä½œç³»ç»Ÿä»ç¼“å†²åŒºï¼ˆå†™å…¥æ“ä½œï¼‰ä¸­æ’å‡ºæ•°æ®æˆ–ç”¨æ•°æ®å¡«å……ç¼“å†²åŒºï¼ˆè¯»å–æ“ä½œï¼‰æ¥æ‰§è¡ŒIOã€‚è¿™æ˜¯IOæ¦‚å¿µçš„å…¨éƒ¨æ€»ç»“ã€‚ æ“ä½œç³»ç»Ÿä¸­æ‰§è¡Œè¿™äº›ä¼ è¾“çš„æœºå™¨å¯èƒ½éå¸¸å¤æ‚ï¼Œä½†ä»æ¦‚å¿µä¸Šè®²ï¼Œå®ƒéå¸¸ç®€å•ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­è®¨è®ºå…¶ä¸­çš„ä¸€å°éƒ¨åˆ†ã€‚ osçº§çš„æ•°æ®ç¼“å†² ä¸Šå›¾æ˜¾ç¤ºäº†å—æ•°æ®å¦‚ä½•ä»å¤–éƒ¨æºï¼ˆä¾‹å¦‚ç¡¬ç›˜ï¼‰ç§»åŠ¨åˆ°æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼ˆä¾‹å¦‚RAMï¼‰å†…çš„å†…å­˜åŒºåŸŸçš„ç®€åŒ–â€œé€»è¾‘â€å›¾ã€‚ é¦–å…ˆï¼Œè¿›ç¨‹è¯·æ±‚é€šè¿‡è°ƒç”¨readï¼ˆï¼‰ç³»ç»Ÿæ¥å¡«å……å…¶ç¼“å†²åŒºã€‚ è¯»è°ƒç”¨å¯¼è‡´å†…æ ¸å‘ç£ç›˜æ§åˆ¶å™¨ç¡¬ä»¶å‘å‡ºå‘½ä»¤ï¼Œä»¥ä»ç£ç›˜ä¸­è·å–æ•°æ®ã€‚ ç£ç›˜æ§åˆ¶å™¨é€šè¿‡DMAç›´æ¥å°†æ•°æ®å†™å…¥å†…æ ¸å†…å­˜ç¼“å†²åŒºï¼Œè€Œä¸éœ€è¦ä¸»CPUçš„è¿›ä¸€æ­¥å¸®åŠ©ã€‚ ç£ç›˜æ§åˆ¶å™¨å®Œæˆç¼“å†²åŒºå¡«å……åï¼Œå†…æ ¸å°†æ•°æ®ä»å†…æ ¸ç©ºé—´ä¸­çš„ä¸´æ—¶ç¼“å†²åŒºå¤åˆ¶åˆ°è¿›ç¨‹æŒ‡å®šçš„ç¼“å†²åŒºï¼›å½“è¯·æ±‚readï¼ˆï¼‰æ“ä½œæ—¶ã€‚ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯å†…æ ¸è¯•å›¾ç¼“å­˜å’Œ/æˆ–é¢„å–æ•°æ®ï¼Œå› æ­¤è¿›ç¨‹è¯·æ±‚çš„æ•°æ®å¯èƒ½å·²ç»åœ¨å†…æ ¸ç©ºé—´ä¸­å¯ç”¨ã€‚å¦‚æœæ˜¯ï¼Œåˆ™å°†å¤åˆ¶æµç¨‹è¯·æ±‚çš„æ•°æ®ã€‚ å¦‚æœæ•°æ®ä¸å¯ç”¨ï¼Œåˆ™è¿›ç¨‹å°†æš‚åœï¼Œè€Œå†…æ ¸åˆ™å°†æ•°æ®å¸¦å…¥å†…å­˜ã€‚ è™šæ‹Ÿå†…å­˜ æ‚¨ä¸€å®šå·²ç»å¤šæ¬¡å¬è¯´è¿‡è™šæ‹Ÿå†…å­˜ã€‚è®©æˆ‘æƒ³æƒ³ã€‚ æ‰€æœ‰ç°ä»£æ“ä½œç³»ç»Ÿéƒ½åˆ©ç”¨è™šæ‹Ÿå†…å­˜ã€‚è™šæ‹Ÿå†…å­˜æ˜¯æŒ‡äººå·¥åœ°å€æˆ–è™šæ‹Ÿåœ°å€è¢«ç”¨æ¥ä»£æ›¿ç‰©ç†ï¼ˆç¡¬ä»¶RAMï¼‰å†…å­˜åœ°å€ã€‚ è™šæ‹Ÿå†…å­˜å¸¦æ¥ä¸¤ä¸ªé‡è¦ä¼˜åŠ¿ï¼š å¤šä¸ªè™šæ‹Ÿåœ°å€å¯ä»¥å¼•ç”¨ç›¸åŒçš„ç‰©ç†å†…å­˜ä½ç½®ã€‚ è™šæ‹Ÿå†…å­˜ç©ºé—´å¯ä»¥å¤§äºå®é™…å¯ç”¨ç¡¬ä»¶å†…å­˜ã€‚ åœ¨å‰é¢çš„éƒ¨åˆ†ä¸­ï¼Œä»å†…æ ¸ç©ºé—´å¤åˆ¶åˆ°æœ€ç»ˆç”¨æˆ·ç¼“å†²åŒºä¼¼ä¹æ˜¯é¢å¤–çš„å·¥ä½œã€‚ä¸ºä»€ä¹ˆä¸å‘Šè¯‰ç£ç›˜æ§åˆ¶å™¨ç›´æ¥å‘é€åˆ°userspaceä¸­çš„ç¼“å†²åŒºï¼Ÿå¥½å§ï¼Œå®ƒæ˜¯ç”¨è™šæ‹Ÿå†…å­˜å®Œæˆçš„ï¼Œè¿™æ˜¯ä¸Šé¢çš„ä¼˜åŠ¿1ã€‚ é€šè¿‡å°†å†…æ ¸ç©ºé—´åœ°å€æ˜ å°„åˆ°ä¸ç”¨æˆ·ç©ºé—´ä¸­çš„è™šæ‹Ÿåœ°å€ç›¸åŒçš„ç‰©ç†åœ°å€ï¼ŒDMAç¡¬ä»¶ï¼ˆåªèƒ½è®¿é—®ç‰©ç†å†…å­˜åœ°å€ï¼‰å¯ä»¥å¡«å……å†…æ ¸å’Œç”¨æˆ·ç©ºé—´è¿›ç¨‹åŒæ—¶å¯è§çš„ç¼“å†²åŒºã€‚ è¿™æ¶ˆé™¤äº†å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´çš„æ‹·è´ï¼Œä½†éœ€è¦å†…æ ¸å’Œç”¨æˆ·ç¼“å†²åŒºå…±äº«ç›¸åŒçš„é¡µé¢å¯¹é½æ–¹å¼ã€‚ç¼“å†²åŒºè¿˜å¿…é¡»æ˜¯ç£ç›˜æ§åˆ¶å™¨ä½¿ç”¨çš„å—å¤§å°çš„å€æ•°ï¼ˆé€šå¸¸æ˜¯512å­—èŠ‚ç£ç›˜æ‰‡åŒºï¼‰ã€‚ æ“ä½œç³»ç»Ÿå°†å†…å­˜åœ°å€ç©ºé—´åˆ’åˆ†ä¸ºé¡µï¼Œé¡µæ˜¯å›ºå®šå¤§å°çš„å­—èŠ‚ç»„ã€‚è¿™äº›å†…å­˜é¡µæ€»æ˜¯ç£ç›˜å—å¤§å°çš„å€æ•°ï¼Œé€šå¸¸æ˜¯2çš„å¹‚ï¼ˆè¿™ç®€åŒ–äº†å¯»å€ï¼‰ã€‚å…¸å‹çš„å†…å­˜é¡µå¤§å°æ˜¯1024ã€2048å’Œ4096å­—èŠ‚ã€‚ è™šæ‹Ÿå†…å­˜é¡µå’Œç‰©ç†å†…å­˜é¡µçš„å¤§å°æ€»æ˜¯ç›¸åŒçš„ã€‚ å†…å­˜åˆ†é¡µ ä¸ºäº†æ”¯æŒè™šæ‹Ÿå†…å­˜çš„ç¬¬äºŒä¸ªä¼˜ç‚¹ï¼ˆå¯å¯»å€ç©ºé—´å¤§äºç‰©ç†å†…å­˜ï¼‰ï¼Œæœ‰å¿…è¦è¿›è¡Œè™šæ‹Ÿå†…å­˜åˆ†é¡µï¼ˆé€šå¸¸ç§°ä¸ºäº¤æ¢ï¼‰ã€‚ å†…å­˜åˆ†é¡µæ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œé€šè¿‡è¿™ç§æ–¹æ¡ˆï¼Œè™šæ‹Ÿå†…å­˜ç©ºé—´çš„é¡µé¢å¯ä»¥æŒä¹…åŒ–åˆ°å¤–éƒ¨ç£ç›˜å­˜å‚¨å™¨ä¸­ï¼Œä»¥ä¾¿åœ¨ç‰©ç†å†…å­˜ä¸­ä¸ºå…¶ä»–è™šæ‹Ÿé¡µé¢è…¾å‡ºç©ºé—´ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œç‰©ç†å†…å­˜å……å½“åˆ†é¡µåŒºåŸŸçš„ç¼“å­˜ï¼Œåˆ†é¡µåŒºåŸŸæ˜¯ç£ç›˜ä¸Šçš„ç©ºé—´ï¼Œå½“ç‰©ç†å†…å­˜è¢«æŒ¤å‡ºæ—¶ï¼Œå­˜å‚¨å†…å­˜é¡µçš„å†…å®¹ã€‚ å°†å†…å­˜é¡µå¤§å°è°ƒæ•´ä¸ºç£ç›˜å—å¤§å°çš„å€æ•°å…è®¸å†…æ ¸å‘ç£ç›˜æ§åˆ¶å™¨ç¡¬ä»¶å‘å‡ºç›´æ¥å‘½ä»¤ï¼Œå°†å†…å­˜é¡µå†™å…¥ç£ç›˜æˆ–åœ¨éœ€è¦æ—¶é‡æ–°åŠ è½½å®ƒä»¬ã€‚ åŸæ¥ï¼Œæ‰€æœ‰ç£ç›˜IOéƒ½æ˜¯åœ¨é¡µé¢çº§åˆ«å®Œæˆçš„ã€‚åœ¨ç°ä»£çš„åˆ†é¡µæ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™æ˜¯æ•°æ®åœ¨ç£ç›˜å’Œç‰©ç†å†…å­˜ä¹‹é—´ç§»åŠ¨çš„å”¯ä¸€æ–¹å¼ã€‚ ç°ä»£CPUåŒ…å«ä¸€ä¸ªå­ç³»ç»Ÿï¼Œç§°ä¸ºå†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ã€‚è¿™ä¸ªè®¾å¤‡åœ¨é€»è¾‘ä¸Šä½äºCPUå’Œç‰©ç†å†…å­˜ä¹‹é—´ã€‚MMUåŒ…å«å°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†å†…å­˜åœ°å€æ‰€éœ€çš„æ˜ å°„ä¿¡æ¯ã€‚ å½“CPUå¼•ç”¨å†…å­˜ä½ç½®æ—¶ï¼ŒMMUç¡®å®šè¯¥ä½ç½®æ‰€åœ¨çš„é¡µï¼ˆé€šå¸¸é€šè¿‡ç§»åŠ¨æˆ–å±è”½åœ°å€å€¼çš„ä½ï¼‰å¹¶å°†è¯¥è™šæ‹Ÿé¡µå·è½¬æ¢ä¸ºç‰©ç†é¡µå·ï¼ˆè¿™åœ¨ç¡¬ä»¶ä¸­å®Œæˆï¼Œå¹¶ä¸”éå¸¸å¿«ï¼‰ã€‚ é¢å‘æ–‡ä»¶/å—çš„IO æ–‡ä»¶IOæ€»æ˜¯å‘ç”Ÿåœ¨æ–‡ä»¶ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡ä¸­ã€‚æ–‡ä»¶ç³»ç»Ÿä¸ç£ç›˜æˆªç„¶ä¸åŒã€‚ç£ç›˜å°†æ•°æ®å­˜å‚¨åœ¨æ‰‡åŒºä¸­ï¼Œæ¯ä¸ªæ‰‡åŒºé€šå¸¸ä¸º512å­—èŠ‚ã€‚å®ƒä»¬æ˜¯å¯¹æ–‡ä»¶çš„è¯­ä¹‰ä¸€æ— æ‰€çŸ¥çš„ç¡¬ä»¶è®¾å¤‡ã€‚å®ƒä»¬åªæ˜¯æä¾›äº†ä¸€äº›å¯ä»¥å­˜å‚¨æ•°æ®çš„æ’æ§½ã€‚åœ¨è¿™æ–¹é¢ï¼Œç£ç›˜çš„æ‰‡åŒºç±»ä¼¼äºå†…å­˜é¡µï¼›æ‰€æœ‰æ‰‡åŒºçš„å¤§å°éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºä¸€ä¸ªå¤§æ•°ç»„å¯»å€ã€‚ å¦ä¸€æ–¹é¢ï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œç”¨äºæ’åˆ—å’Œè§£é‡Šå­˜å‚¨åœ¨ç£ç›˜ï¼ˆæˆ–å…¶ä»–ä¸€äº›éšæœºå­˜å–ã€é¢å‘å—çš„è®¾å¤‡ï¼‰ä¸Šçš„æ•°æ®ã€‚æ‚¨ç¼–å†™çš„ä»£ç å‡ ä¹æ€»æ˜¯ä¸æ–‡ä»¶ç³»ç»Ÿäº¤äº’ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸ç£ç›˜äº¤äº’ã€‚æ–‡ä»¶ç³»ç»Ÿå®šä¹‰äº†æ–‡ä»¶åã€è·¯å¾„ã€æ–‡ä»¶ã€æ–‡ä»¶å±æ€§ç­‰çš„æŠ½è±¡ã€‚ æ–‡ä»¶ç³»ç»Ÿï¼ˆåœ¨ç¡¬ç›˜ä¸­ï¼‰ç»„ç»‡ä¸€ç³»åˆ—å¤§å°ä¸€è‡´çš„æ•°æ®å—ã€‚ä¸€äº›å—å­˜å‚¨å…ƒä¿¡æ¯ï¼Œå¦‚ç©ºé—²å—ã€ç›®å½•ã€ç´¢å¼•ç­‰çš„æ˜ å°„ã€‚å…¶ä»–å—åŒ…å«å®é™…çš„æ–‡ä»¶æ•°æ®ã€‚ æœ‰å…³å•ä¸ªæ–‡ä»¶çš„å…ƒä¿¡æ¯æè¿°äº†å“ªäº›å—åŒ…å«æ–‡ä»¶æ•°æ®ã€æ•°æ®ç»“æŸçš„ä½ç½®ã€ä¸Šæ¬¡æ›´æ–°çš„æ—¶é—´ç­‰ã€‚ å½“ç”¨æˆ·è¿›ç¨‹è¯·æ±‚è¯»å–æ–‡ä»¶æ•°æ®æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿå®ç°ä¼šå‡†ç¡®åœ°ç¡®å®šæ•°æ®åœ¨ç£ç›˜ä¸Šçš„ä½ç½®ã€‚ç„¶åå®ƒé‡‡å–æªæ–½å°†è¿™äº›ç£ç›˜æ‰‡åŒºæ”¾å…¥å†…å­˜ã€‚ æ–‡ä»¶ç³»ç»Ÿä¹Ÿæœ‰é¡µçš„æ¦‚å¿µï¼Œé¡µçš„å¤§å°å¯ä»¥æ˜¯åŸºæœ¬å†…å­˜é¡µçš„å¤§å°ï¼Œä¹Ÿå¯ä»¥æ˜¯åŸºæœ¬å†…å­˜é¡µçš„å€æ•°ã€‚å…¸å‹çš„æ–‡ä»¶ç³»ç»Ÿé¡µé¢å¤§å°ä»2048å­—èŠ‚åˆ°8192å­—èŠ‚ä¸ç­‰ï¼Œå¹¶ä¸”æ€»æ˜¯åŸºæœ¬å†…å­˜é¡µé¢å¤§å°çš„å€æ•°ã€‚ åˆ†é¡µæ–‡ä»¶ç³»ç»Ÿå¦‚ä½•æ‰§è¡ŒIOå½’ç»“ä¸ºä»¥ä¸‹é€»è¾‘æ­¥éª¤ï¼š ç¡®å®šè¯·æ±‚è·¨è¶Šçš„æ–‡ä»¶ç³»ç»Ÿé¡µï¼ˆç£ç›˜æ‰‡åŒºç»„ï¼‰ã€‚ç£ç›˜ä¸Šçš„æ–‡ä»¶å†…å®¹å’Œ/æˆ–å…ƒæ•°æ®å¯èƒ½åˆ†å¸ƒåœ¨å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿé¡µé¢ä¸Šï¼Œè¿™äº›é¡µé¢å¯èƒ½æ˜¯ä¸è¿ç»­çš„ã€‚ åœ¨å†…æ ¸ç©ºé—´ä¸­åˆ†é…è¶³å¤Ÿçš„å†…å­˜é¡µä»¥å®¹çº³å·²æ ‡è¯†çš„æ–‡ä»¶ç³»ç»Ÿé¡µã€‚ åœ¨è¿™äº›å†…å­˜é¡µå’Œç£ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿé¡µä¹‹é—´å»ºç«‹æ˜ å°„ã€‚ ä¸ºæ¯ä¸ªå†…å­˜é¡µç”Ÿæˆé¡µé”™è¯¯ã€‚ è™šæ‹Ÿå†…å­˜ç³»ç»Ÿæ•è·é¡µé¢é”™è¯¯å¹¶è°ƒåº¦pageinï¼ˆå³åˆ†é¡µç©ºé—´pageinï¼‰ï¼Œé€šè¿‡ä»ç£ç›˜è¯»å–é¡µé¢å†…å®¹æ¥éªŒè¯è¿™äº›é¡µé¢ã€‚ ä¸€æ—¦pageinå®Œæˆï¼Œæ–‡ä»¶ç³»ç»Ÿå°±ä¼šåˆ†è§£åŸå§‹æ•°æ®ä»¥æå–è¯·æ±‚çš„æ–‡ä»¶å†…å®¹æˆ–å±æ€§ä¿¡æ¯ã€‚ æ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿæ•°æ®å°†åƒå…¶ä»–å†…å­˜é¡µä¸€æ ·è¢«ç¼“å­˜ã€‚åœ¨éšåçš„IOè¯·æ±‚ä¸­ï¼Œéƒ¨åˆ†æˆ–å…¨éƒ¨æ–‡ä»¶æ•°æ®å¯èƒ½ä»å­˜åœ¨äºç‰©ç†å†…å­˜ä¸­ï¼Œå¹¶ä¸”å¯ä»¥é‡ç”¨ï¼Œè€Œæ— éœ€ä»ç£ç›˜é‡æ–°è¯»å– æ–‡ä»¶é”å®š æ–‡ä»¶é”å®šæ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œé€šè¿‡è¯¥æ–¹æ¡ˆï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥é˜»æ­¢å…¶ä»–è¿›ç¨‹è®¿é—®æŸä¸ªæ–‡ä»¶æˆ–é™åˆ¶å…¶ä»–è¿›ç¨‹è®¿é—®è¯¥æ–‡ä»¶çš„æ–¹å¼ã€‚è™½ç„¶â€œæ–‡ä»¶é”å®šâ€è¿™ä¸ªåç§°æ„å‘³ç€é”å®šæ•´ä¸ªæ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯è¿™æ ·åšçš„ï¼‰ï¼Œä½†é”å®šé€šå¸¸åœ¨æ›´ç»†ç²’åº¦çš„çº§åˆ«ä¸Šå¯ç”¨ã€‚ æ–‡ä»¶åŒºåŸŸé€šå¸¸æ˜¯é”å®šçš„ï¼Œç²’åº¦é™ä½åˆ°å­—èŠ‚çº§åˆ«ã€‚é”ä¸ç‰¹å®šæ–‡ä»¶ç›¸å…³è”ï¼Œä»è¯¥æ–‡ä»¶ä¸­çš„ç‰¹å®šå­—èŠ‚ä½ç½®å¼€å§‹ï¼Œå¹¶åœ¨ç‰¹å®šçš„å­—èŠ‚èŒƒå›´å†…è¿è¡Œã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸è®¸å¤šè¿›ç¨‹åè°ƒå¯¹æ–‡ä»¶ç‰¹å®šåŒºåŸŸçš„è®¿é—®ï¼Œè€Œä¸ä¼šå¦¨ç¢æ–‡ä»¶ä¸­å…¶ä»–è¿›ç¨‹çš„å·¥ä½œã€‚ æ–‡ä»¶é”æœ‰ä¸¤ç§ç±»å‹ï¼šå…±äº«é”å’Œç‹¬å é”ã€‚å¤šä¸ªå…±äº«é”å¯èƒ½åŒæ—¶å¯¹åŒä¸€æ–‡ä»¶åŒºåŸŸæœ‰æ•ˆã€‚å¦ä¸€æ–¹é¢ï¼Œç‹¬å é”è¦æ±‚æ²¡æœ‰å…¶ä»–é”å¯¹è¯·æ±‚çš„åŒºåŸŸæœ‰æ•ˆã€‚ æµIO å¹¶éæ‰€æœ‰IOéƒ½æ˜¯é¢å‘å—çš„ã€‚è¿˜æœ‰æµIOï¼Œå®ƒæ˜¯åŸºäºç®¡é“å»ºæ¨¡çš„ã€‚å¿…é¡»æŒ‰é¡ºåºè®¿é—®IOæµçš„å­—èŠ‚ã€‚TTYï¼ˆæ§åˆ¶å°ï¼‰è®¾å¤‡ã€æ‰“å°æœºç«¯å£å’Œç½‘ç»œè¿æ¥æ˜¯æµçš„å¸¸è§ç¤ºä¾‹ã€‚ æµé€šå¸¸ï¼ˆä½†ä¸ä¸€å®šï¼‰æ¯”å—è®¾å¤‡æ…¢ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯é—´æ­‡è¾“å…¥çš„æºã€‚å¤§å¤šæ•°æ“ä½œç³»ç»Ÿå…è®¸å°†æµç½®äºéé˜»å¡æ¨¡å¼ï¼Œè¿™å…è®¸è¿›ç¨‹æ£€æŸ¥æµä¸Šçš„è¾“å…¥æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰å¯ç”¨çš„è¾“å…¥ï¼Œåˆ™ä¸ä¼šå¡ä½ã€‚è¿™æ ·çš„åŠŸèƒ½å…è®¸è¿›ç¨‹åœ¨è¾“å…¥åˆ°è¾¾æ—¶å¤„ç†è¾“å…¥ï¼Œä½†åœ¨è¾“å…¥æµç©ºé—²æ—¶æ‰§è¡Œå…¶ä»–åŠŸèƒ½ã€‚ è¶…è¶Šéé˜»å¡æ¨¡å¼çš„ä¸€ä¸ªæ­¥éª¤æ˜¯èƒ½å¤Ÿè¿›è¡Œå°±ç»ªé€‰æ‹©ã€‚è¿™ç±»ä¼¼äºéé˜»å¡æ¨¡å¼ï¼ˆå¹¶ä¸”é€šå¸¸æ„å»ºåœ¨éé˜»å¡æ¨¡å¼ä¹‹ä¸Šï¼‰ï¼Œä½†æ˜¯å‡è½»äº†å¯¹æµæ˜¯å¦å‡†å¤‡å¥½ç”¨äºæ“ä½œç³»ç»Ÿçš„æ£€æŸ¥ã€‚ å¯ä»¥å‘Šè¯‰æ“ä½œç³»ç»Ÿç›‘è§†æµçš„é›†åˆï¼Œå¹¶å‘è¿›ç¨‹è¿”å›æŒ‡ç¤ºå“ªäº›æµå·²å°±ç»ªã€‚è¿™ç§èƒ½åŠ›å…è®¸è¿›ç¨‹åˆ©ç”¨æ“ä½œç³»ç»Ÿè¿”å›çš„å°±ç»ªä¿¡æ¯ï¼Œä½¿ç”¨å…¬å…±ä»£ç å’Œå•ä¸ªçº¿ç¨‹å¤šè·¯å¤ç”¨å¤šä¸ªæ´»åŠ¨æµã€‚ æµIOåœ¨ç½‘ç»œæœåŠ¡å™¨ä¸­è¢«å¹¿æ³›ç”¨äºå¤„ç†å¤§é‡çš„ç½‘ç»œè¿æ¥ã€‚å‡†å¤‡å°±ç»ªé€‰æ‹©å¯¹äºé«˜å®¹é‡æ‰©å±•è‡³å…³é‡è¦ã€‚ è¿™äº›éƒ½æ˜¯å…³äºè¿™ä¸ªæœ‰å¤§é‡æŠ€æœ¯è¯æ±‡çš„éå¸¸å¤æ‚çš„è¯é¢˜ğŸ™‚","categories":[{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"}],"tags":[{"name":"IO","slug":"IO","permalink":"http://dangkei.github.io/tags/IO/"}]},{"title":"é™æ€å¯¼å…¥å£°æ˜çš„ä¸€äº›é‡è¦è§„åˆ™","slug":"import-rules","date":"2021-07-01T07:59:18.000Z","updated":"2021-07-06T08:08:07.770Z","comments":true,"path":"2021/07/01/import-rules/","link":"","permalink":"http://dangkei.github.io/2021/07/01/import-rules/","excerpt":"","text":"import staticé™æ€å¯¼å…¥æ˜¯JDK1.5ä¸­çš„æ–°ç‰¹æ€§ã€‚ä¸€èˆ¬æˆ‘ä»¬å¯¼å…¥ä¸€ä¸ªç±»éƒ½ç”¨ import comâ€¦..ClassName;è€Œé™æ€å¯¼å…¥æ˜¯è¿™æ ·ï¼šimport static comâ€¦..ClassName.;è¿™é‡Œçš„å¤šäº†ä¸ªstaticï¼Œè¿˜æœ‰å°±æ˜¯ç±»åClassNameåé¢å¤šäº†ä¸ª . ï¼Œæ„æ€æ˜¯å¯¼å…¥è¿™ä¸ªç±»é‡Œçš„é™æ€æ–¹æ³•ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åªå¯¼å…¥æŸä¸ªé™æ€æ–¹æ³•ï¼Œåªè¦æŠŠ .* æ¢æˆé™æ€æ–¹æ³•åå°±è¡Œäº†ã€‚ç„¶ååœ¨è¿™ä¸ªç±»ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨æ–¹æ³•åè°ƒç”¨é™æ€æ–¹æ³•ï¼Œè€Œä¸å¿…ç”¨ClassName.æ–¹æ³•å çš„æ–¹å¼æ¥è°ƒç”¨ã€‚è¿™ç§æ–¹æ³•çš„å¥½å¤„å°±æ˜¯å¯ä»¥ç®€åŒ–ä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ‰“å°æ“ä½œSystem.out.println(â€¦);å°±å¯ä»¥å°†å…¶å†™å…¥ä¸€ä¸ªé™æ€æ–¹æ³•print(â€¦)ï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥print(â€¦)å°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•å»ºè®®åœ¨æœ‰å¾ˆå¤šé‡å¤è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨ï¼Œå¦‚æœä»…æœ‰ä¸€åˆ°ä¸¤æ¬¡è°ƒç”¨ï¼Œä¸å¦‚ç›´æ¥å†™æ¥çš„æ–¹ä¾¿ ä¸‹é¢æ˜¯å…³äºé™æ€å¯¼å…¥å£°æ˜çš„ä¸€äº›é‡è¦è§„åˆ™ã€‚ 1ï¼‰ å¦‚æœå¯¼å…¥ä¸¤ä¸ªå…·æœ‰ç›¸åŒç®€å•åç§°çš„é™æ€æˆå‘˜ï¼Œä¸€ä¸ªä½¿ç”¨å•ä¸ªé™æ€å¯¼å…¥å£°æ˜ï¼Œå¦ä¸€ä¸ªä½¿ç”¨é™æ€æŒ‰éœ€å¯¼å…¥å£°æ˜ï¼Œåˆ™ä½¿ç”¨å•ä¸ªé™æ€å¯¼å…¥å£°æ˜å¯¼å…¥çš„é™æ€æˆå‘˜ä¼˜å…ˆã€‚ å‡è®¾æœ‰ä¸¤ä¸ªç±»ï¼Œpackage1.Class1å’Œpackage2.Class2ã€‚ä¸¤ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªåä¸ºmethodAçš„é™æ€æ–¹æ³•ã€‚ä»¥ä¸‹ä»£ç å°†ä½¿ç”¨package1.Class1.methodAï¼ˆï¼‰æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ˜¯ä½¿ç”¨å•ä¸ªé™æ€å¯¼å…¥å£°æ˜å¯¼å…¥çš„ï¼š 12345678&gt;import static package1.Class1.methodA; // Imports Class1.methodA() method&gt;import static package2.Class2.*; // Imports Class2.methodA() method too &gt;public class Test &#123; public static void main(String[] args) &#123; methodA(); // Class1.methodA() will be called &#125;&gt;&#125; 2ï¼‰ ä¸å…è®¸ä½¿ç”¨å•ä¸ªé™æ€å¯¼å…¥å£°æ˜å¯¼å…¥ä¸¤ä¸ªå…·æœ‰ç›¸åŒç®€å•åç§°çš„é™æ€æˆå‘˜ã€‚ä»¥ä¸‹é™æ€å¯¼å…¥å£°æ˜ç”Ÿæˆé”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä½¿ç”¨ç›¸åŒçš„ç®€å•åç§°methodAå¯¼å…¥é™æ€æˆå‘˜ï¼š 12&gt;import static package1.Class1.methodA;&gt;import static package1.Class2.methodA; // An error 3ï¼‰ å¦‚æœä½¿ç”¨å•ä¸ªé™æ€å¯¼å…¥å£°æ˜å¯¼å…¥é™æ€æˆå‘˜ï¼Œå¹¶ä¸”åŒä¸€ç±»ä¸­å­˜åœ¨åŒåçš„é™æ€æˆå‘˜ï¼Œåˆ™è¯¥ç±»ä¸­çš„é™æ€æˆå‘˜å°†è¢«ä½¿ç”¨ã€‚ 123456789101112131415161718192021222324252627&gt;// A.java&gt;package package1; &gt;public class A &#123; public static void test() &#123; System.out.println(&quot;package1.A.test()&quot;); &#125;&gt;&#125; &gt;// Test.java&gt;package package2; &gt;import static package1.A.test; &gt;public class Test &#123; public static void main(String[] args) &#123; test(); // Will use package2.Test.test() method, not package1.A.test() method &#125; public static void test() &#123; System.out.println(&quot;package2.Test.test()&quot;); &#125;&gt;&#125;&gt;Output:&gt;package2.Test.test() é™æ€å¯¼å…¥ä¼¼ä¹å¯ä»¥å¸®åŠ©æ‚¨ä½¿ç”¨é™æ€æˆå‘˜çš„ç®€å•åç§°ï¼Œä»è€Œä½¿ç¨‹åºæ›´æ˜“äºç¼–å†™å’Œè¯»å–ã€‚æœ‰æ—¶é™æ€å¯¼å…¥å¯èƒ½ä¼šåœ¨ç¨‹åºä¸­å¼•å…¥ç»†å¾®çš„é”™è¯¯ï¼Œè¿™å¯èƒ½å¾ˆéš¾è°ƒè¯•ã€‚å»ºè®®æ‚¨å®Œå…¨ä¸è¦ä½¿ç”¨é™æ€å¯¼å…¥ï¼Œæˆ–è€…ä»…åœ¨éå¸¸ç½•è§çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚","categories":[{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"}],"tags":[{"name":"static","slug":"static","permalink":"http://dangkei.github.io/tags/static/"},{"name":"import","slug":"import","permalink":"http://dangkei.github.io/tags/import/"}]},{"title":"Hello hexo github","slug":"hello-world","date":"2021-07-01T06:15:22.557Z","updated":"2021-07-12T08:03:50.395Z","comments":true,"path":"2021/07/01/hello-world/","link":"","permalink":"http://dangkei.github.io/2021/07/01/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server123$ hexo server //or$ hexo s More info: Server Generate static files123$ hexo generate//or$ hexo g More info: Generating Deploy to remote sites123$ hexo deploy//or$ hexo d More info: Deployment config local git123git config â€“global user.name yournamegit config â€“global user.email youremail generated your login secrtkey1Ssh-keygen -t rsa -C yourname@mail.com","categories":[{"name":"hexo","slug":"hexo","permalink":"http://dangkei.github.io/categories/hexo/"}],"tags":[]}],"categories":[{"name":"devopts","slug":"devopts","permalink":"http://dangkei.github.io/categories/devopts/"},{"name":"java","slug":"java","permalink":"http://dangkei.github.io/categories/java/"},{"name":"hexo","slug":"hexo","permalink":"http://dangkei.github.io/categories/hexo/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://dangkei.github.io/tags/docker/"},{"name":"lambda","slug":"lambda","permalink":"http://dangkei.github.io/tags/lambda/"},{"name":"redis","slug":"redis","permalink":"http://dangkei.github.io/tags/redis/"},{"name":"Initialization","slug":"Initialization","permalink":"http://dangkei.github.io/tags/Initialization/"},{"name":"IO","slug":"IO","permalink":"http://dangkei.github.io/tags/IO/"},{"name":"static","slug":"static","permalink":"http://dangkei.github.io/tags/static/"},{"name":"import","slug":"import","permalink":"http://dangkei.github.io/tags/import/"}]}